var zt=(p,e,s)=>{if(!e.has(p))throw TypeError("Cannot "+s)};var t=(p,e,s)=>(zt(p,e,"read from private field"),s?s.call(p):e.get(p)),r=(p,e,s)=>{if(e.has(p))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(p):e.set(p,s)},h=(p,e,s,i)=>(zt(p,e,"write to private field"),i?i.call(p,s):e.set(p,s),s);var A=(p,e,s)=>new Promise((i,n)=>{var o=u=>{try{d(s.next(u))}catch(f){n(f)}},a=u=>{try{d(s.throw(u))}catch(f){n(f)}},d=u=>u.done?i(u.value):Promise.resolve(u.value).then(o,a);d((s=s.apply(p,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const Ut=""+new URL("left-circle-arrow.bd94ba30.svg",import.meta.url).href,jt=""+new URL("close-icon.df6da7f4.svg",import.meta.url).href,l=p=>document.querySelector(p);var q,b,c,_,y,S,E,C,W,H,F,k,M,$,w,N,T,L,I,it,z,P,V,nt,x,G,j,Q,R,rt,ot,X,at,ct,dt,O,lt,ht,B,Y,tt,ut,D,pt,U,ft,mt,gt,vt,Lt,yt,Z,wt,bt,_t,Et,Ct,K,Tt,J,kt,Mt,et,xt;class Zt{constructor(e){r(this,q,void 0);r(this,b,void 0);r(this,c,void 0);r(this,_,void 0);r(this,y,void 0);r(this,S,void 0);r(this,E,void 0);r(this,C,void 0);r(this,W,void 0);r(this,H,void 0);r(this,F,void 0);r(this,k,void 0);r(this,M,void 0);r(this,$,void 0);r(this,w,void 0);r(this,N,void 0);r(this,T,void 0);r(this,L,void 0);r(this,I,void 0);r(this,it,()=>{window.addEventListener("message",t(this,mt)),document.addEventListener("click",t(this,nt)),t(this,y).addEventListener("click",t(this,x)),t(this,y).addEventListener("keydown",e=>{e.key==="Enter"&&t(this,x).call(this,e)})});r(this,z,()=>{var e,s;t(this,V).call(this),t(this,P).call(this),(e=t(this,y))==null||e.classList.remove("open"),(s=t(this,S))==null||s.classList.add("hide"),t(this,G).call(this,!1)});r(this,P,()=>{var e,s;(e=t(this,C))!=null&&e.classList.contains("show")&&((s=t(this,C))==null||s.classList.remove("show"))});r(this,V,()=>{var e,s;(e=t(this,w))!=null&&e.classList.contains("show")&&((s=t(this,w))==null||s.classList.remove("show"))});r(this,nt,e=>{t(this,E).contains(e.target)||t(this,z).call(this)});r(this,x,(e,s=!1)=>{var n,o,a,d;let i=!0;if((n=t(this,w))!=null&&n.classList.contains("show")&&(t(this,V).call(this),i=!1),!(s&&((o=t(this,C))==null?void 0:o.classList.contains("show")))&&((a=t(this,C))==null||a.classList.toggle("show"),i)){t(this,S).classList.toggle("hide");const u=(d=t(this,y))==null?void 0:d.classList.toggle("open");t(this,G).call(this,u)}});r(this,G,e=>{var s;t(this,ut).call(this,e),e&&!((s=t(this,k))!=null&&s.classList.contains("hide"))&&t(this,j).call(this),e||t(this,U).call(this)});r(this,j,()=>{var e,s;(e=t(this,k))==null||e.classList.add("hide"),(s=t(this,M))==null||s.classList.add("hide")});r(this,Q,e=>{var i,n,o,a,d,u,f,g,v;e.preventDefault();const s=e.target.closest(".channel");if(s.dataset.url==="#"){const m=(i=t(this,c))==null?void 0:i.widget_channels.find(st=>st.id===s.dataset.id);(o=(n=m.config)==null?void 0:n.card_config)!=null&&o.faqs?t(this,ct).call(this,m):(d=(a=m.config)==null?void 0:a.card_config)!=null&&d.form_fields?t(this,rt).call(this,m):(f=(u=m.config)==null?void 0:u.card_config)!=null&&f.knowledge_bases?t(this,lt).call(this,m):(v=(g=m.config)==null?void 0:g.card_config)!=null&&v.isChatWidget&&t(this,ft).call(this,m.channel_name.toLowerCase())}else s.dataset.target==="new_window"?window.open(s.dataset.url,"_blank","popup"):window.open(s.dataset.url,s.dataset.target)});r(this,R,e=>{var s,i,n,o;h(this,N,(i=(s=e==null?void 0:e.card_config)==null?void 0:s.card_bg_color)==null?void 0:i.str),l("#cardHeader>h4").innerHTML=e==null?void 0:e.title,t(this,b).style.setProperty("--card-theme-color",t(this,N)),t(this,b).style.setProperty("--card-text-color",(o=(n=e==null?void 0:e.card_config)==null?void 0:n.card_text_color)==null?void 0:o.str)});r(this,rt,e=>{var i;t(this,P).call(this),t(this,K).call(this),t(this,R).call(this,e.config);const s=(i=e.config)==null?void 0:i.card_config;h(this,L,document.createElement("form")),t(this,L).setAttribute("id","formBody"),t(this,L).setAttribute("method","POST"),t(this,L).innerHTML=`
        <div id="dynamicFields"></div>
        <input type="hidden" name="widget_channel_id" value="${e.id}" />
        <button type="submit">${s==null?void 0:s.submit_button_text}</button>
    `,t(this,T).innerHTML="",t(this,T).appendChild(t(this,L)),t(this,L).addEventListener("submit",t(this,Tt)),t(this,ot).call(this,s==null?void 0:s.form_fields)});r(this,ot,e=>{const s=l("#dynamicFields");e==null||e.forEach(i=>{console.log(i.field_type),i.field_type==="rating"?t(this,X).call(this,i,s,"rating"):i.field_type==="feedback"?t(this,X).call(this,i,s,"feedback"):t(this,at).call(this,i,s)})});r(this,X,(e,s,i)=>{const n=Math.floor(Math.random()*1e8),o=e.label.toLowerCase().replace(/ /g,"_"),a=document.createElement("div");a.classList.add(i),i==="rating"&&a.classList.add(e.rating_type),(i==="feedback"?["bug","suggest","love"]:e.rating_type==="star"?["5 star","4 star","3 star","2 star","1 star"]:["sad","confused","happy"]).forEach(u=>{const f=`${o}_${u.replace(/ /g,"_")}_${n}`,g=document.createElement("input");g.setAttribute("type","radio"),g.setAttribute("name",o),g.setAttribute("value",u),g.setAttribute("id",f),e.required&&g.setAttribute("required","");const v=document.createElement("label");if(v.setAttribute("title",u),v.setAttribute("for",f),v.setAttribute("class",u),i==="feedback"){v.innerHTML=`${u.charAt(0).toUpperCase()+u.slice(1)}`;const m=document.createElement("div");m.setAttribute("class","feedback-icon"),v.prepend(m)}a.append(g,v)}),s.appendChild(a)});r(this,at,(e,s)=>{let i=document.createElement("input");if(e.field_type==="textarea"&&(i=document.createElement("textarea")),i.setAttribute("name",e.label.toLowerCase().replace(/ /g,"_")),i.setAttribute("placeholder",e.label+(e.required?"":" (optional)")),e.required&&i.setAttribute("required",""),e.field_type==="GDPR"){i.setAttribute("type","checkbox");const n=document.createElement("a");n.target="_blank",n.innerHTML=e.label,e!=null&&e.url&&(n.href=e.url);const o=document.createElement("div");o.classList.add("gdprContainer"),o.append(i,n),s.appendChild(o)}else i.classList.add("formControl"),i.setAttribute("type",e.field_type),s.appendChild(i)});r(this,ct,e=>{var i;t(this,P).call(this),t(this,K).call(this),t(this,R).call(this,e.config);const s=(i=e.config)==null?void 0:i.card_config;t(this,T).innerHTML=`
      <div id="faqBody">
        <div id="listWrapper">
          <div id="lists"></div>
          <input type="text" id="listSearch" class="formControl" placeholder="Search" />
        </div>
        <div id="faqDescription">
          <div class="descriptionTitle">
            <div class="closeDescBtn" tabindex="0">
              <img src="${Ut}" alt="back" />
            </div>
            <p></p>
          </div>
          <div class="content"></div>
        </div>
      </div>`,l("#listSearch").addEventListener("input",t(this,tt)),l(".closeDescBtn").addEventListener("click",t(this,O)),l(".closeDescBtn").addEventListener("keydown",n=>{n.key==="Enter"&&t(this,O).call(this)}),t(this,dt).call(this,s==null?void 0:s.faqs)});r(this,dt,e=>{t(this,Y).call(this,e),document.querySelectorAll(".listItemTitleWrapper").forEach(s=>{s.addEventListener("click",i=>t(this,O).call(this,i,e)),s.addEventListener("keydown",i=>{i.key==="Enter"&&t(this,O).call(this,i,e)})})});r(this,O,(e,s)=>{var o;if(s){const a=s.find(d=>parseInt(d.id,10)===parseInt(e.target.closest(".listItemTitleWrapper").dataset.item_id,10));l(".descriptionTitle p").innerHTML=(a==null?void 0:a.title)||"",l(".content").innerHTML=(a==null?void 0:a.description)||""}const i=l("#faqBody");if(i==null?void 0:i.classList.toggle("openDesc")){const a=l("#faqDescription").scrollHeight;Object.assign(i.style,{height:a>400?"400px":`${a}px`,overflow:a>400?"auto":"initial"})}else i.removeAttribute("style");(o=l("#listWrapper"))==null||o.classList.toggle("hide")});r(this,lt,e=>{var i;t(this,P).call(this),t(this,K).call(this),t(this,R).call(this,e.config);const s=(i=e.config)==null?void 0:i.card_config;t(this,T).innerHTML=`
      <div id="knowledgeBaseBody">
        <div id="listWrapper">
          <div id="lists"></div>
          <input type="text" id="listSearch" class="formControl" placeholder="Search" />
        </div>
        <div class="overlay"></div>
        <div id="knowledgeBaseDescription">
          <div class="descriptionTitle">
            <p></p>
            <div class="closeDescBtn" tabindex="0">
              <img src="${jt}" alt="close" />
            </div>
          </div>
          <div class="content"></div>
        </div>
      </div>`,l("#listSearch").addEventListener("input",t(this,tt)),l(".closeDescBtn").addEventListener("click",t(this,B)),l(".closeDescBtn").addEventListener("keydown",n=>{n.key==="Enter"&&t(this,B).call(this)}),t(this,ht).call(this,s==null?void 0:s.knowledge_bases)});r(this,ht,e=>{t(this,Y).call(this,e),document.querySelectorAll(".listItemTitleWrapper").forEach(s=>{s.addEventListener("click",i=>t(this,B).call(this,i,e)),s.addEventListener("keydown",i=>{i.key==="Enter"&&t(this,B).call(this,i,e)})})});r(this,B,(e,s)=>{const i=l("#knowledgeBaseBody");if(!s){i==null||i.classList.remove("openDesc");return}const n=s.find(o=>parseInt(o.id,10)===parseInt(e.target.closest(".listItemTitleWrapper").dataset.item_id,10));!n||(i==null||i.classList.add("openDesc"),l(".descriptionTitle p").innerHTML=(n==null?void 0:n.title)||"",l(".content").innerHTML=(n==null?void 0:n.description)||"",t(this,b).style.setProperty("--modal-title-height",l(".descriptionTitle").offsetHeight+"px"))});r(this,Y,e=>{let s="";e==null||e.forEach(i=>{s+=`
        <div class="listItem">
          <div class="listItemTitleWrapper" data-item_id="${i.id}" tabindex="0">
            <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M7.39736 14.1756C11.3119 14.1756 14.4851 11.0024 14.4851 7.08779C14.4851 3.1732 11.3119 0 7.39736 0C3.48277 0 0.30957 3.1732 0.30957 7.08779C0.30957 11.0024 3.48277 14.1756 7.39736 14.1756Z"
                fill="currentColor"
                fill-opacity="0.2"
              />
              <path
                d="M6.50421 10.1215C6.36955 10.1215 6.23488 10.0719 6.12856 9.96559C6.0297 9.86556 5.97426 9.73059 5.97426 9.58994C5.97426 9.4493 6.0297 9.31433 6.12856 9.21429L8.2549 7.08795L6.12856 4.96162C6.0297 4.86158 5.97426 4.72661 5.97426 4.58596C5.97426 4.44532 6.0297 4.31035 6.12856 4.21031C6.33411 4.00477 6.67432 4.00477 6.87987 4.21031L9.38186 6.7123C9.5874 6.91785 9.5874 7.25806 9.38186 7.46361L6.87987 9.96559C6.77355 10.0719 6.63888 10.1215 6.50421 10.1215Z"
                fill="currentColor"
              />
            </svg>
            <p class="title">${i.title}</p>
          </div>
        </div>`}),l("#lists").innerHTML=s});r(this,tt,e=>{const s=e.target.value.toLowerCase();document.querySelectorAll(".listItem").forEach(n=>{n.querySelector(".title").innerText.toLowerCase().includes(s)?n==null||n.classList.remove("hide"):n==null||n.classList.add("hide")})});r(this,ut,e=>{parent.postMessage({action:"widgetOpen",isWidgetOpen:e},`${t(this,_)}`)});r(this,D,()=>{parent.postMessage({action:"removeWidget"},`${t(this,_)}`)});r(this,pt,()=>{var e,s,i,n,o,a,d;parent.postMessage({action:"widgetLoaded",height:(((s=(e=t(this,c))==null?void 0:e.styles)==null?void 0:s.size)||60)+40,width:(((n=(i=t(this,c))==null?void 0:i.styles)==null?void 0:n.size)||60)+40,position:(a=(o=t(this,c))==null?void 0:o.styles)==null?void 0:a.position,pageScroll:(d=t(this,c))==null?void 0:d.page_scroll},`${t(this,_)}`)});r(this,U,()=>{parent.postMessage({action:"resetWidgetSize",height:t(this,E).offsetHeight,width:t(this,E).offsetWidth},`${t(this,_)}`)});r(this,ft,e=>{parent.postMessage({action:"chatWidgetClick",chatWidgetName:e},`${t(this,_)}`)});r(this,mt,e=>{const{action:s}=e.data;s==="windowLoaded"?t(this,gt).call(this,e.data):s==="scrollPercent"&&t(this,vt).call(this,e.data)});r(this,gt,({url:e,winWidth:s,scrollPercent:i,apiEndPoint:n})=>{t(this,b).style.setProperty("--client-win-width",s+"px"),h(this,F,i),h(this,q,n),h(this,W,s<768),h(this,H,e.slice(t(this,_).length+1,e.length)),t(this,Lt).call(this)});r(this,vt,({scrollPercent:e})=>{var s;h(this,F,e),((s=t(this,c))==null?void 0:s.page_scroll)>0&&!t(this,I)&&t(this,et).call(this)});r(this,Lt,()=>A(this,null,function*(){try{const{data:e}=yield fetch(`${t(this,q)}/bitAssistWidget`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:t(this,_)})}).then(s=>s.json());if(h(this,c,e),typeof t(this,c).id>"u"){console.error(t(this,c)),t(this,D).call(this);return}t(this,yt).call(this)}catch(e){console.log(e),t(this,D).call(this)}}));r(this,yt,()=>A(this,null,function*(){var e,s;!t(this,bt).call(this)||(t(this,pt).call(this),!(((s=(e=t(this,c))==null?void 0:e.business_hours)==null?void 0:s.length)&&!t(this,_t).call(this))&&(t(this,Et).call(this),t(this,Ct).call(this),t(this,kt).call(this),t(this,wt).call(this),h(this,I,!0),yield t(this,Mt).call(this),h(this,I,!1),t(this,xt).call(this),t(this,et).call(this)))}));r(this,Z,e=>new Promise(s=>setTimeout(s,e*1e3)));r(this,wt,()=>{var e,s;(e=t(this,c))!=null&&e.hide_credit&&((s=l("#credit"))==null||s.remove())});r(this,bt,()=>{var e,s,i;if(((s=(e=t(this,c))==null?void 0:e.exclude_pages)==null?void 0:s.length)>0){let n=!1,o=!1;const a=(i=t(this,c))==null?void 0:i.exclude_pages.some(d=>(d.visibility==="showOn"&&(n=!0),d.condition==="contains"&&t(this,H).includes(d.url)||d.condition==="equal"&&t(this,H)===d.url||d.condition==="startWith"&&t(this,H).startsWith(d.url)||d.condition==="endWith"&&t(this,H).endsWith(d.url)?d.visibility==="hideOn"?!0:(o=!0,!1):!1));if(n&&!a&&!o||!n&&a&&!o)return t(this,D).call(this),!1}return!0});r(this,_t,()=>{var v,m;const e=new Date,s=(v=t(this,c))==null?void 0:v.business_hours[e.getDay()];if(!s||!(s!=null&&s.start)||!(s!=null&&s.end))return t(this,D).call(this),!1;const[i,n]=(s==null?void 0:s.start.split(":").map(Number))||[0,0],[o,a]=(s==null?void 0:s.end.split(":").map(Number))||[0,0],d=((m=t(this,c))==null?void 0:m.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone,u=e.toLocaleTimeString("en-US",{timeZone:d,hour12:!1}),[f,g]=u.split(":").map(Number);return(f<i||f===i&&g<n||f>o||f===o&&g>a)&&h(this,$,!1),!0});r(this,Et,()=>{var e;if(((e=t(this,c).custom_css)==null?void 0:e.length)>0){const s=document.createElement("style");s.appendChild(document.createTextNode(t(this,c).custom_css)),document.head.appendChild(s)}});r(this,Ct,()=>{var e,s;h(this,C,document.createElement("div")),t(this,C).id="channels",t(this,C).innerHTML=(s=(e=t(this,c))==null?void 0:e.widget_channels)==null?void 0:s.filter(i=>{var n,o,a;return(t(this,W)&&((n=i.config)==null?void 0:n.channel_show_on.includes("mobile"))||!t(this,W)&&((o=i.config)==null?void 0:o.channel_show_on.includes("desktop")))&&(!t(this,$)&&!((a=i.config)!=null&&a.hide_after_office_hours)||t(this,$))}).map(i=>{var n;return`
          <div class="channel" tabindex="0" data-id="${i.id}" data-url="${((n=i.config)==null?void 0:n.url)||"#"}" data-target="${i.config.open_window_action}">
            <div class="channel-name">${i.config.title}</div>
            <div class="channel-icon">
              <img src="${i.channel_icon}" alt="${i.config.title}">
            </div>
          </div>`}).join(""),t(this,S).appendChild(t(this,C)),document.querySelectorAll(".channel").forEach(i=>{i.addEventListener("click",t(this,Q)),i.addEventListener("keydown",n=>{n.key==="Enter"&&t(this,Q).call(this,n)})})});r(this,K,()=>{var s;if(l("#card")){(s=t(this,w))==null||s.classList.add("show");return}h(this,w,document.createElement("div")),t(this,w).setAttribute("id","card"),t(this,w).classList.add("show"),t(this,w).innerHTML=`
        <div id="cardHeader">
          <h4></h4>
          <div class="closeCardBtn" tabindex="0">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M10.2666 8.89085L13.3822 5.77521C13.5301 5.6276 13.6133 5.4273 13.6134 5.21837C13.6136 5.00944 13.5308 4.80899 13.3832 4.66112C13.2356 4.51325 13.0353 4.43008 12.8264 4.4299C12.6174 4.42971 12.417 4.51253 12.2691 4.66014L9.15348 7.77578L6.03784 4.66014C5.88997 4.51227 5.68942 4.4292 5.48031 4.4292C5.27119 4.4292 5.07064 4.51227 4.92277 4.66014C4.7749 4.80801 4.69183 5.00856 4.69183 5.21767C4.69183 5.42679 4.7749 5.62734 4.92277 5.77521L8.03841 8.89085L4.92277 12.0065C4.7749 12.1543 4.69183 12.3549 4.69183 12.564C4.69183 12.7731 4.7749 12.9737 4.92277 13.1216C5.07064 13.2694 5.27119 13.3525 5.48031 13.3525C5.68942 13.3525 5.88997 13.2694 6.03784 13.1216L9.15348 10.0059L12.2691 13.1216C12.417 13.2694 12.6175 13.3525 12.8267 13.3525C13.0358 13.3525 13.2363 13.2694 13.3842 13.1216C13.5321 12.9737 13.6151 12.7731 13.6151 12.564C13.6151 12.3549 13.5321 12.1543 13.3842 12.0065L10.2666 8.89085Z"
                fill="currentColor"
              />
            </svg>
          </div>
        </div>
        <div id="cardBody"></div>`,t(this,S).appendChild(t(this,w)),h(this,T,l("#cardBody"));const e=l(".closeCardBtn");e.addEventListener("click",t(this,z)),e.addEventListener("keydown",i=>{i.key==="Enter"&&t(this,z).call(this)})});r(this,Tt,e=>A(this,null,function*(){e.preventDefault();const s=l('button[type="submit"]'),i=new FormData(e.target),n={};for(const[a,d]of i.entries())n[a]=d;const o=s.innerHTML;try{s.innerHTML="Sending...",s==null||s.classList.add("disabled");const a=yield fetch(`${t(this,q)}/responses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formData:n})}).then(d=>d.json());(a==null?void 0:a.status)==="success"?yield t(this,J).call(this,"success",a==null?void 0:a.data):yield t(this,J).call(this,"error",a==null?void 0:a.data),e.target.reset(),s==null||s.classList.remove("disabled"),s.innerHTML=o}catch(a){console.log(a),yield t(this,J).call(this,"error"),e.target.reset(),s==null||s.classList.remove("disabled"),s.innerHTML=o}}));r(this,J,(e,s)=>A(this,null,function*(){var n,o,a;if(!t(this,T).contains(t(this,L)))return;const i=document.createElement("div");i.classList.add("toast"),i.classList.add(e),i.innerHTML=`
      <div class="toast-content">
        <div class="toast-text">
          <div class="toast-text-title">${e==="success"?"Success":"Error"}</div>
          <div class="toast-text-body">${e==="success"?s:"Something went wrong"}</div>
        </div>
      </div>
    `,t(this,T).appendChild(i),(n=t(this,L))==null||n.classList.add("hide"),i.classList.contains("success")&&(l(".toast-text-title").style.color=t(this,N)),yield t(this,Z).call(this,2),(o=t(this,L))!=null&&o.classList.contains("hide")&&(t(this,T).removeChild(i),(a=t(this,L))==null||a.classList.remove("hide"))}));r(this,kt,()=>{var s,i,n,o,a,d,u,f,g,v,m,st,At,St,Ht,Wt,$t,It,Pt,Ot,Bt,Dt,qt,Ft,Nt;t(this,b).style.setProperty("--widget-size",(((i=(s=t(this,c))==null?void 0:s.styles)==null?void 0:i.size)||60)+"px"),t(this,b).style.setProperty("--widget-color",(a=(o=(n=t(this,c))==null?void 0:n.styles)==null?void 0:o.color)==null?void 0:a.str),((d=t(this,c))==null?void 0:d.widget_behavior)===2?(t(this,y).removeEventListener("click",t(this,x)),t(this,y).addEventListener("mouseenter",Rt=>t(this,x).call(this,Rt,!0)),t(this,E).addEventListener("mouseleave",t(this,x))):((u=t(this,c))==null?void 0:u.widget_behavior)===3&&t(this,x).call(this),(v=t(this,y))==null||v.classList.add((g=(f=t(this,c))==null?void 0:f.styles)==null?void 0:g.shape),(At=t(this,E))==null||At.classList.add((st=(m=t(this,c))==null?void 0:m.styles)==null?void 0:st.position),l("#widget-img").src=(Ht=(St=t(this,c))==null?void 0:St.styles)==null?void 0:Ht.iconUrl,(Wt=l("#widget-img"))==null||Wt.classList.add("icon");const e=Math.round((parseInt((Pt=(It=($t=t(this,c))==null?void 0:$t.styles)==null?void 0:It.color)==null?void 0:Pt.r,10)*299+parseInt((Dt=(Bt=(Ot=t(this,c))==null?void 0:Ot.styles)==null?void 0:Bt.color)==null?void 0:Dt.g,10)*587+parseInt((Nt=(Ft=(qt=t(this,c))==null?void 0:qt.styles)==null?void 0:Ft.color)==null?void 0:Nt.b,10)*114)/1e3);t(this,b).style.setProperty("--widget-bubble-icon-color",e>125?"invert(0)":"invert(1)")});r(this,Mt,()=>A(this,null,function*(){var e;((e=t(this,c))==null?void 0:e.initial_delay)>0&&(yield t(this,Z).call(this,t(this,c).initial_delay))}));r(this,et,()=>A(this,null,function*(){var e,s;((e=t(this,c))==null?void 0:e.page_scroll)<=0||t(this,F)>=((s=t(this,c))==null?void 0:s.page_scroll)?t(this,E).classList.remove("hide"):t(this,E).classList.add("hide"),t(this,U).call(this)}));r(this,xt,()=>A(this,null,function*(){var e,s,i,n,o;if(!!((s=(e=t(this,c))==null?void 0:e.call_to_action)!=null&&s.text)){if(((n=(i=t(this,c))==null?void 0:i.call_to_action)==null?void 0:n.delay)>0&&(yield t(this,Z).call(this,t(this,c).call_to_action.delay)),h(this,k,document.createElement("div")),t(this,k).id="callToActionMsg",t(this,k).innerHTML=t(this,c).call_to_action.text,h(this,M,document.createElement("img")),t(this,M).id="closeCallToAction",t(this,M).src=jt,t(this,M).addEventListener("click",t(this,j)),l("#widgetBubbleRow").prepend(t(this,M),t(this,k)),(o=t(this,y))!=null&&o.classList.contains("open")){t(this,j).call(this);return}t(this,U).call(this)}}));h(this,I,!0),h(this,$,!0),h(this,W,!1),h(this,b,document.documentElement),h(this,_,e.clientDomain),h(this,S,l("#contentWrapper")),h(this,E,l("#widgetWrapper")),h(this,y,l(e.widgetBubble)),t(this,it).call(this)}}q=new WeakMap,b=new WeakMap,c=new WeakMap,_=new WeakMap,y=new WeakMap,S=new WeakMap,E=new WeakMap,C=new WeakMap,W=new WeakMap,H=new WeakMap,F=new WeakMap,k=new WeakMap,M=new WeakMap,$=new WeakMap,w=new WeakMap,N=new WeakMap,T=new WeakMap,L=new WeakMap,I=new WeakMap,it=new WeakMap,z=new WeakMap,P=new WeakMap,V=new WeakMap,nt=new WeakMap,x=new WeakMap,G=new WeakMap,j=new WeakMap,Q=new WeakMap,R=new WeakMap,rt=new WeakMap,ot=new WeakMap,X=new WeakMap,at=new WeakMap,ct=new WeakMap,dt=new WeakMap,O=new WeakMap,lt=new WeakMap,ht=new WeakMap,B=new WeakMap,Y=new WeakMap,tt=new WeakMap,ut=new WeakMap,D=new WeakMap,pt=new WeakMap,U=new WeakMap,ft=new WeakMap,mt=new WeakMap,gt=new WeakMap,vt=new WeakMap,Lt=new WeakMap,yt=new WeakMap,Z=new WeakMap,wt=new WeakMap,bt=new WeakMap,_t=new WeakMap,Et=new WeakMap,Ct=new WeakMap,K=new WeakMap,Tt=new WeakMap,J=new WeakMap,kt=new WeakMap,Mt=new WeakMap,et=new WeakMap,xt=new WeakMap;const Kt=new URL(window.location.href),Jt=Kt.searchParams.get("clientDomain");new Zt({widgetBubble:"#widgetBubble",clientDomain:Jt});
