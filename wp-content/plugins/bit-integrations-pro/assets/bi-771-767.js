import{r,j as x}from"./main.js";import{h as v,B as w,_ as C}from"./bi-490-178.js";import{S as m}from"./bi-652-725.js";function T({formFields:t,id:a,value:g,onChangeHandler:s,toolbarMnu:u,height:d,width:p}){r.useEffect(()=>(window.tinymce&&tinymce.remove(),()=>window.tinymce&&tinymce.remove()),[]),r.useEffect(()=>{window.tinymce&&tinymce.remove(),h()},[t,a]);const y=v(w),{isPro:f}=y,h=()=>{if(typeof tinymce!="undefined"&&(!t||(t==null?void 0:t.length)>0)){const o=document.querySelectorAll(".form-fields-em");for(let e=0;e<o.length;e+=1)o[e].style.display="none";tinymce.init({selector:`textarea#${a}-settings`,height:d||150,width:p||"100%",branding:!1,resize:"verticle",convert_urls:!1,theme:"modern",plugins:"directionality fullscreen image link media charmap hr lists textcolor colorpicker wordpress",toolbar:u||"formatselect | fontsizeselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat toggleCode wp_code| addFormField | addSmartField",image_advtab:!0,default_link_target:"_blank",setup(e){var c;e.on("Paste Change input Undo Redo",()=>{s(e.getContent())}),t&&e.addButton("addFormField",{text:"Form Fields ",tooltip:"Add Form Field Value in Message",type:"menubutton",icon:!1,menu:t==null?void 0:t.map(n=>n.type!==void 0&&!n.type.match(/^(file|recaptcha)$/)&&{text:n.label,onClick(){e.insertContent(`\${${n.name}}`)}})}),f&&m&&e.addButton("addSmartField",{text:"Smart Tag Fields",tooltip:"Add Smart Tag Field Value in Message",type:"menubutton",icon:!1,menu:(c=m)==null?void 0:c.map(n=>({text:n.label,onClick(){e.insertContent(`\${${n.name}}`)}}))}),e.addButton("toggleCode",{text:"</>",tooltip:C("Toggle preview","bitwpfi"),icon:!1,onclick(n){const{$:i}=n.control,l=i(`#${a}-settings`),b=i(e.iframeElement);l.value=e.getContent({source_view:!0}),b.toggleClass("hidden"),l.toggleClass("visible"),i("iframe.hidden").length>0?l.prependTo(".mce-edit-area"):e.setContent(document.getElementById(`${a}-settings`).value)}})}})}};return x.jsx("textarea",{id:`${a}-settings`,className:"btcd-paper-inp mt-1",rows:"5",value:g,onChange:o=>s(o.target.value),style:{width:"95.5%",height:"auto"}})}export{T};
