var C=Object.defineProperty;var d=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var m=(s,e,t)=>e in s?C(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,c=(s,e)=>{for(var t in e||(e={}))S.call(e,t)&&m(s,t,e[t]);if(d)for(var t of d(e))N.call(e,t)&&m(s,t,e[t]);return s};import{g as w,r as a,j as i}from"./main.js";import{e as k,c as A,_ as f}from"./bi-490-178.js";import{S as E}from"./bi-224-925.js";import{e as F}from"./bi-266-720.js";import{c as T,C as V}from"./bi-490-867.js";import _ from"./bi-286-361.js";function $(){const s=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let e=[];for(let t=0;t<36;t++)t===8||t===13||t===18||t===23?e[t]="-":e[t]=s[Math.ceil(Math.random()*s.length-1)];return e.join("")}var I=$,M=w(I);const q=({formFields:s,setFlow:e,flow:t,allIntegURL:g})=>{const h=k(),[n,p]=a.useState(1),[b,l]=a.useState(!1),[x,j]=a.useState({show:!1}),v=M(),[o,r]=a.useState({name:"CustomAction",type:"CustomAction",randomFileName:v,defaultValue:`<?php if (!defined('ABSPATH')) {exit;} 
    
  function yourFunctionName($trigger){
    $trigger['yourKey'];
    //write here your custom function
  }  
  yourFunctionName($trigger);`,value:""});a.useEffect(()=>{const u=c({},o);delete u.isValid,r(c({},u))},[o==null?void 0:o.value]);const y=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),p(2)};return i.jsxs("div",{children:[i.jsx(A,{snack:x,setSnackbar:j}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(E,{step:2,active:n})}),i.jsxs("div",{className:"btcd-stp-page",style:c({},n===1&&{width:"70%",height:"auto",overflow:"visible"}),children:[i.jsx("h1",{children:"custom action"}),i.jsx(_,{customActionConf:o,setCustomActionConf:r,formFields:s}),i.jsx("button",{onClick:()=>T(o,r,l),disabled:!o.value,className:"btn f-left btcd-btn-lg green sh-sm flx mt-5",type:"button",children:f("Validated ","bit-integrations")}),i.jsxs("button",{onClick:()=>y(),disabled:!o.isValid,className:"btn f-right btcd-btn-lg green sh-sm flx mt-5",type:"button",children:[f("Next","bit-integrations")," ","Â ",i.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),i.jsx("div",{className:"btcd-stp-page",style:{width:n===2&&"100%",height:n===2&&"auto"},children:i.jsx(V,{step:n,saveConfig:()=>F(t,e,g,o,h,"","",l),isLoading:b})})]})};export{q as default};
