var I=Object.defineProperty;var b=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var x=(n,e,s)=>e in n?I(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,l=(n,e)=>{for(var s in e||(e={}))E.call(e,s)&&x(n,s,e[s]);if(b)for(var s of b(e))P.call(e,s)&&x(n,s,e[s]);return n};import{r,j as t}from"./main.js";import{_ as i,E as F,b as M}from"./bi-490-178.js";import{B as _}from"./bi-475-763.js";function D({formID:n,wpCoursewareConf:e,setWPCoursewareConf:s,step:m,nextPage:f,setSnackbar:p,isInfo:d}){const[o,j]=r.useState(!1),[N,w]=r.useState({integrationName:""}),[C,S]=r.useState(!1),[c,u]=r.useState(!1),[v,y]=r.useState(!0);r.useEffect(()=>()=>{y(!1)},[]);const z=()=>{u("auth"),M({},"wpCourseware_authorize").then(a=>{v&&(a!=null&&a.success&&(j(!0),p({show:!0,msg:i("Connect Successfully","bit-integrations")})),S(!0),u(!1))})},A=a=>{const h=l({},e),g=l({},N);g[a.target.name]="",h[a.target.name]=a.target.value,w(g),s(h)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"btcd-stp-page",style:{width:m===1&&900,height:m===1&&"auto"},children:[t.jsx("div",{className:"mt-3",children:t.jsx("b",{children:i("Integration Name:","bit-integrations")})}),t.jsx("input",{className:"btcd-paper-inp w-5 mt-1",onChange:A,name:"name",value:e.name,type:"text",placeholder:i("Integration Name...","bit-integrations"),disabled:d}),C&&!o&&!c&&t.jsxs("div",{className:"flx mt-4",style:{color:"red"},children:[t.jsx("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),"Please! First Install or Active WP Courseware Plugin"]}),!d&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:z,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:o||c,children:[o?i("Connected ✔","bit-integrations"):i("Connect to WP Courseware","bit-integrations"),c&&t.jsx(F,{size:20,clr:"#022217",className:"ml-2"})]}),t.jsx("br",{}),t.jsxs("button",{onClick:()=>f(2),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!o,children:[i("Next","bit-integrations"),t.jsx(_,{className:"ml-1 rev-icn"})]})]})]})})}export{D as default};
