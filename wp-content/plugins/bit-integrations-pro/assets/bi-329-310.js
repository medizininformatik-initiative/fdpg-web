var w=Object.defineProperty;var g=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var b=(a,t,s)=>t in a?w(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,c=(a,t)=>{for(var s in t||(t={}))E.call(t,s)&&b(a,s,t[s]);if(g)for(var s of g(t))M.call(t,s)&&b(a,s,t[s]);return a};import{r as l,j as e}from"./main.js";import{_ as n,E as x,b as _}from"./bi-490-178.js";import{B as k}from"./bi-475-763.js";function F({formID:a,mailPoetConf:t,setMailPoetConf:s,step:m,nextPage:p,setSnackbar:f,isInfo:j}){const[r,N]=l.useState(!1),[z,A]=l.useState({integrationName:""}),[v,S]=l.useState(!1),[o,d]=l.useState(!1),y=()=>{d("auth"),_({},"mail_poet_authorize").then(i=>{i!=null&&i.success&&(N(!0),f({show:!0,msg:n("Authorized Successfully","bit-integrations")})),S(!0),d(!1)})},I=i=>{const h=c({},t),u=c({},z);u[i.target.name]="",h[i.target.name]=i.target.value,A(u),s(h)};return e.jsxs("div",{className:"btcd-stp-page",style:{width:m===1&&900,height:m===1&&"auto"},children:[e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:n("Integration Name:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:I,name:"name",value:t.name,type:"text",placeholder:n("Integration Name...","bit-integrations"),disabled:j}),o==="auth"&&e.jsxs("div",{className:"flx mt-5",children:[e.jsx(x,{size:25,clr:"#022217",className:"mr-2"}),"Checking if MailPoet is active!!!"]}),v&&!r&&!o&&e.jsxs("div",{className:"flx mt-5",style:{color:"red"},children:[e.jsx("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),"Please! First Install Mailpoet Plugins"]}),e.jsxs("button",{onClick:y,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:r||o,children:[r?n("Authorized ✔","bit-integrations"):n("Authorize","bit-integrations"),o&&e.jsx(x,{size:20,clr:"#022217",className:"ml-2"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:()=>p(2),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!r,children:[n("Next","bit-integrations"),e.jsx(k,{className:"ml-1 rev-icn"})]})]})}export{F as default};
