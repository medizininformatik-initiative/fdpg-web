var I=Object.defineProperty;var u=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var f=(i,e,t)=>e in i?I(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,b=(i,e)=>{for(var t in e||(e={}))S.call(e,t)&&f(i,t,e[t]);if(u)for(var t of u(e))E.call(e,t)&&f(i,t,e[t]);return i};import{r as l,j as a}from"./main.js";import{e as A,f as K,c as N,_}from"./bi-490-178.js";import{S as C}from"./bi-224-925.js";import{s as F}from"./bi-266-720.js";import{I as w}from"./bi-811-721.js";import{h as T,c as q}from"./bi-171-829.js";import{B}from"./bi-475-763.js";import L from"./bi-809-342.js";import{K as D}from"./bi-750-828.js";import"./bi-369-724.js";import"./bi-422-718.js";import"./bi-652-725.js";import"./bi-528-726.js";function Z({formFields:i,setFlow:e,flow:t,allIntegURL:h}){const x=A(),{formID:g}=K(),[r,c]=l.useState(!1),[o,d]=l.useState(1),[k,n]=l.useState({show:!1}),v=[{key:"full_name",label:"Full Name",required:!0},{key:"email",label:"Email ",required:!0},{key:"tags",label:"Tags ",required:!1}],y=[{key:"1",label:"Add Subscriber"},{key:"2",label:"Remove Subscriber"}],[s,m]=l.useState({name:"Kirim Email",type:"Kirim Email",mainAction:"",userName:"vaishak",api_key:"",field_map:[{formField:"",kirimEmailFormField:""}],subscriberFields:v,allActions:y,actions:{}}),j=p=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),d(3)};return a.jsxs("div",{children:[a.jsx(N,{snack:k,setSnackbar:n}),a.jsx("div",{className:"txt-center mt-2",children:a.jsx(C,{step:3,active:o})}),a.jsx(L,{formID:g,kirimEmailConf:s,setKirimEmailConf:m,step:o,setstep:d,isLoading:r,setIsLoading:c,setSnackbar:n}),a.jsxs("div",{className:"btcd-stp-page",style:b({},o===2&&{width:900,height:"auto",overflow:"visible"}),children:[a.jsx(D,{formFields:i,handleInput:p=>T(p,s,m),kirimEmailConf:s,setKirimEmailConf:m,isLoading:r,setIsLoading:c,setSnackbar:n}),a.jsxs("button",{onClick:()=>j(),disabled:!q(s==null?void 0:s.field_map)||s.mainAction===""||r||s.mainAction==="1"&&(s.listId===""||s.listId===void 0),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[_("Next","bit-integrations"),a.jsx(B,{className:"ml-1 rev-icn"})]})]}),a.jsx(w,{step:o,saveConfig:()=>F({flow:t,setFlow:e,allIntegURL:h,conf:s,history:x,setIsLoading:c,setSnackbar:n}),isLoading:r,dataConf:s,setDataConf:m,formFields:i})]})}export{Z as default};
