var p=Object.defineProperty;var h=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var l=(a,t,e)=>t in a?p(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,r=(a,t)=>{for(var e in t||(t={}))w.call(t,e)&&l(a,e,t[e]);if(h)for(var e of h(t))F.call(t,e)&&l(a,e,t[e]);return a};import{_ as d,b as c}from"./bi-490-178.js";const y=(a,t,e,o,n,m,i,s,u)=>{const g=r({},t);if(i){const f=r({},s);f[a.target.name]="",u(r({},f))}g[a.target.name]=a.target.value,e(r({},g))},N=(a,t,e,o,n)=>{o(!0);const m={formID:a,password:t.password,userName:t.userName};c(m,"fluent_support_get_all_support_staff").then(i=>{if(i&&i.success){const s=r({},t);s.default||(s.default={}),i.data.agents&&(s.default.agents=i.data.agents.data),n({show:!0,msg:d("Support Staff refreshed","bit-integrations")}),e(r({},s))}else n({show:!0,msg:d("Support Staff refresh failed. please try again","bit-integrations")});o(!1)}).catch(()=>o(!1))},z=a=>{const t=a==null?void 0:a.fluentSupportFields.filter(e=>e.required===!0);return t.length>0?t.map(e=>({formField:"",fluentSupportFormField:e.key})):[{formField:"",fluentSupportFormField:""}]},q=a=>!((a!=null&&a.field_map?a.field_map.filter(e=>!e.formField||!e.fluentSupportFormField||!e.formField==="custom"&&!e.customValue):[]).length>0),A=(a,t,e,o,n,m)=>{if(!a.userName){e({api_key:a.userName?"":d("UserName can't be empty","bit-integrations")});return}if(!a.password){e({password:a.password?"":d("Password can't be empty","bit-integrations")});return}e({}),n(!0);const i={app_domain:a.app_domain,userName:a.userName,password:a.password};c(i,"fluentSupport_authorization").then(s=>s).then(s=>{if(s&&s.success){const u=r({},a);u.tokenDetails=s.data,t(u),o(!0),m({show:!0,msg:d("Authorized Successfully","bit-integrations")})}else s&&s.data&&s.data.data||!s.success&&typeof s.data=="string"?m({show:!0,msg:`${d("Authorization failed Cause:","bit-integrations")}${s.data.data||s.data}. ${d("please try again","bit-integrations")}`}):m({show:!0,msg:d("Authorization failed. please try again","bit-integrations")});n(!1)})};export{A as a,q as c,z as g,y as h,N as s};
