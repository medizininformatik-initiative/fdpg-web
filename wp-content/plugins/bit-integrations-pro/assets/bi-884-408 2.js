import{r as p,j as t}from"./main.js";import{e as I,f as y,c as S,_ as F}from"./bi-490-178.js";import{B as C}from"./bi-475-763.js";import{S as v}from"./bi-224-925.js";import{e as W}from"./bi-266-720.js";import{I as k}from"./bi-811-721.js";import L from"./bi-949-312.js";import{W as N,h as P,c as o}from"./bi-38-759.js";import"./bi-369-724.js";import"./bi-422-718.js";import"./bi-528-726.js";function q({formFields:l,setFlow:g,flow:h,allIntegURL:M}){const x=I(),{formID:_}=y(),[d,r]=p.useState(!1),[i,c]=p.useState(1),[b,s]=p.useState({show:!1}),[e,n]=p.useState({name:"WooCommerce Integration",type:"WooCommerce",field_map:[],upload_field_map:[],line_field_map:[{formField:"",wcField:""}],actions:{}}),j=()=>{let a="";if((e==null?void 0:e.module)==="order"){const m=o(e.order.field_map),u=o(e.line_item.field_map),f=o(e.customer.field_map);a=m?u?f?"":"Customer Field Map":"Line Item Field Map":"Order Field Map",m&&u&&f||s({show:!0,msg:`${a} can'	 be empty`})}else(e==null?void 0:e.module)==="customer"?o(e.customer.field_map)||(a="Customer Field Map",s({show:!0,msg:"Customer Field Map can't be empty"})):(e==null?void 0:e.module)==="product"?o(e.product.field_map)||(a="Product Field Map",s({show:!0,msg:"Product Field Map can't be empty"})):(e==null?void 0:e.module)==="changestatus"&&(o(e.changestatus.field_map)||s({show:!0,msg:"Change Status Field Map can't be empty"}));setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),a===""&&c(3)};return t.jsxs("div",{children:[t.jsx(S,{snack:b,setSnackbar:s}),t.jsx("div",{className:"txt-center mt-2",children:t.jsx(v,{step:3,active:i})}),t.jsx(L,{formID:_,wcConf:e,setWcConf:n,step:i,setStep:c,isLoading:d,setIsLoading:r,setSnackbar:s}),t.jsxs("div",{className:"btcd-stp-page",style:{width:i===2&&1e3,height:i===2&&"auto"},children:[t.jsx(N,{wcConf:e,setWcConf:n,formFields:l,handleInput:a=>P(a,e,n,r,s),isLoading:d,setIsLoading:r}),t.jsxs("button",{onClick:j,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[F("Next","bit-integrations"),t.jsx(C,{className:"ml-1 rev-icn"})]})]}),t.jsx(k,{step:i,saveConfig:()=>W(h,g,M,e,x,"","",r),isLoading:d,dataConf:e,setDataConf:n,formFields:l})]})}export{q as default};
