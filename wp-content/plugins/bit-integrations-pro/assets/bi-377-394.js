var j=Object.defineProperty;var p=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var f=(a,t,s)=>t in a?j(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,b=(a,t)=>{for(var s in t||(t={}))C.call(t,s)&&f(a,s,t[s]);if(p)for(var s of p(t))S.call(t,s)&&f(a,s,t[s]);return a};import{r as d,j as r}from"./main.js";import{e as R,c as L,_ as I,a as N}from"./bi-490-178.js";import{S as w}from"./bi-224-925.js";import{s as A}from"./bi-266-720.js";import{I as F}from"./bi-811-721.js";import E from"./bi-874-322.js";import{R as P}from"./bi-692-823.js";import{h as z,c as D}from"./bi-269-822.js";import"./bi-369-724.js";import"./bi-422-718.js";import"./bi-475-763.js";import"./bi-652-725.js";import"./bi-528-726.js";function Y({formFields:a,setFlow:t,flow:s,allIntegURL:y}){const k=R(),[m,i]=d.useState(!1),[l,u]=d.useState(1),[h,n]=d.useState({show:!1}),x=[{key:"user_login",label:"User Name",required:!0},{key:"user_email",label:"Email",required:!0},{key:"user_pass",label:"User Password",required:!1},{key:"first_name",label:"First name",required:!1},{key:"last_name",label:"Last name",required:!1},{key:"company",label:"Company",required:!1},{key:"address1",label:"Address Line 1",required:!1},{key:"address2",label:"Address Line 2",required:!1},{key:"city",label:"City",required:!1},{key:"state",label:"State",required:!1},{key:"zip",label:"Zip",required:!1},{key:"country",label:"Country",required:!1}],v=[{key:"exp_date",label:"Expiry Date",required:!0}],g=[{key:"add-member-level",label:"Add the user to a level"},{key:"remove-member-level",label:"Remove the user to a level"}],[e,o]=d.useState({name:"Restrict Content",type:"RestrictContent",field_map:[{formField:"",restrictField:""}],memberFields:x,actionLists:g,levelFields:v,actions:{}}),_=()=>{i(!0),A({flow:s,setFlow:t,allIntegURL:y,conf:e,history:k,setIsLoading:i,setSnackbar:n})},q=c=>{if(!D(e)){N.error("Please map mandatory fields");return}e.field_map.length>0&&u(c)};return r.jsxs("div",{children:[r.jsx(L,{snack:h,setSnackbar:n}),r.jsx("div",{className:"txt-center mt-2",children:r.jsx(w,{step:3,active:l})}),r.jsx(E,{restrictConf:e,setRestrictConf:o,step:l,setStep:u,isLoading:m,setIsLoading:i,setSnackbar:n}),r.jsxs("div",{className:"btcd-stp-page",style:b({},l===2&&{width:900,height:"auto",overflow:"visible"}),children:[r.jsx(P,{formFields:a,handleInput:c=>z(c,e,o),restrictConf:e,setRestrictConf:o,isLoading:m,setIsLoading:i,setSnackbar:n}),r.jsxs("button",{onClick:()=>q(3),disabled:!(e!=null&&e.level_id)&&!(e!=null&&e.member_id),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[I("Next","bit-integrations")," Â ",r.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),r.jsx(F,{step:l,saveConfig:()=>_(),isLoading:m,dataConf:e,setDataConf:o,formFields:a})]})}export{Y as default};
