import{r as o,j as e}from"./main.js";import{e as j,f as b,c as C,_ as S}from"./bi-490-178.js";import{B as F}from"./bi-475-763.js";import{S as I}from"./bi-224-925.js";import{e as y}from"./bi-266-720.js";import{I as _}from"./bi-811-721.js";import k from"./bi-812-316.js";import{F as N,c as w,r as v}from"./bi-697-769.js";import"./bi-369-724.js";import"./bi-422-718.js";import"./bi-652-725.js";import"./bi-528-726.js";function $({formFields:c,setFlow:d,flow:f,allIntegURL:g}){const x=j(),{formID:m}=b(),[l,r]=o.useState(!1),[s,p]=o.useState(1),[h,a]=o.useState({show:!1}),[t,i]=o.useState({name:"Fluent CRM",type:"Fluent Crm",field_map:[{formField:"",fluentCRMField:""}],actions:{}}),u=n=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),n===3){if(!w(t)){a({show:!0,msg:"Please map all required fields to continue."});return}if((t==null?void 0:t.actionName)==="add-user"&&!t.list_id){a({show:!0,msg:"Please select list to continue."});return}t.name!==""&&t.field_map.length>0&&p(n)}else p(n),n===2&&t.name&&v(m,t,i,r,a)};return e.jsxs("div",{children:[e.jsx(C,{snack:h,setSnackbar:a}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(I,{step:3,active:s})}),e.jsx(k,{formID:m,fluentCrmConf:t,setFluentCrmConf:i,step:s,nextPage:u,isLoading:l,setIsLoading:r,setSnackbar:a}),e.jsxs("div",{className:"btcd-stp-page",style:{width:s===2&&900,height:s===2&&"auto",minHeight:s===2&&"200px"},children:[e.jsx(N,{formID:m,formFields:c,fluentCrmConf:t,setFluentCrmConf:i,setIsLoading:r,setSnackbar:a}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("button",{onClick:()=>u(3),disabled:t.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[S("Next","bit-integrations"),e.jsx(F,{className:"ml-1 rev-icn"})]})]}),e.jsx(_,{step:s,saveConfig:()=>y(f,d,g,t,x,"","",r),isLoading:l,dataConf:t,setDataConf:i,formFields:c})]})}export{$ as default};
