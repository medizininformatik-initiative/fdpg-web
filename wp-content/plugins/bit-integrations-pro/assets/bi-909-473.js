var N=Object.defineProperty,j=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var c=(e,t,s)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,f=(e,t)=>{for(var s in t||(t={}))v.call(t,s)&&c(e,s,t[s]);if(l)for(var s of l(t))I.call(t,s)&&c(e,s,t[s]);return e},g=(e,t)=>j(e,S(t));import{r,j as a}from"./main.js";import{e as y,_}from"./bi-490-178.js";import{S as w}from"./bi-829-924.js";import{S as C}from"./bi-224-925.js";import{s as L}from"./bi-291-750.js";import{I as k}from"./bi-811-721.js";import E from"./bi-559-356.js";import{n as F,d as P}from"./bi-584-857.js";import{N as R}from"./bi-161-858.js";import"./bi-369-724.js";import"./bi-422-718.js";import"./bi-266-720.js";import"./bi-200-835.js";import"./bi-652-725.js";import"./bi-528-726.js";function X({formFields:e,setFlow:t,flow:s,allIntegURL:x}){const u=y();r.useEffect(()=>{window.opener&&L("notion")},[]);const[i,p]=r.useState(1),[n,d]=r.useState({auth:!1,list:!1,page:!1,field:!1}),[o,m]=r.useState({name:"Notion",type:"Notion",clientId:"",clientSecret:"",databaseId:"",field_map:[{formFields:"",notionFormFields:""}],notionFields:""}),b=h=>{d(g(f({},n),{page:h}))};return a.jsxs("div",{children:[a.jsx("div",{className:"txt-center mt-2",children:a.jsx(C,{step:3,active:i})}),a.jsx(E,{step:i,setStep:p,notionConf:o,setNotionConf:m,loading:n,setLoading:d}),a.jsxs(w,{step:i,stepNo:2,style:{width:900,height:"auto",overflow:"visible"},children:[a.jsx(R,{notionConf:o,setNotionConf:m,formFields:e,loading:n,setLoading:d}),(o==null?void 0:o.databaseId)&&a.jsxs("button",{onClick:()=>F(o,p,3),disabled:!o.databaseId||o.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[_("Next"),"Â ",a.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),o.databaseId&&a.jsx(k,{step:i,saveConfig:()=>P(s,t,x,o,u,b),isLoading:n.page,dataConf:o,setDataConf:m,formFields:e})]})}export{X as default};
