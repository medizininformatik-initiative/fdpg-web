var S=Object.defineProperty;var u=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var f=(a,t,s)=>t in a?S(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,b=(a,t)=>{for(var s in t||(t={}))j.call(t,s)&&f(a,s,t[s]);if(u)for(var s of u(t))v.call(t,s)&&f(a,s,t[s]);return a};import{r as i,j as r}from"./main.js";import{e as M,f as w,c as C,_ as N,a as _}from"./bi-490-178.js";import{S as P}from"./bi-224-925.js";import{s as E}from"./bi-266-720.js";import{I as F}from"./bi-811-721.js";import L from"./bi-5-355.js";import{s as A,h as G,c as y}from"./bi-880-856.js";import{M as R}from"./bi-926-855.js";import"./bi-369-724.js";import"./bi-422-718.js";import"./bi-475-763.js";import"./bi-652-725.js";import"./bi-528-726.js";function Y({formFields:a,setFlow:t,flow:s,allIntegURL:h}){const k=M(),{formID:x}=w(),[d,c]=i.useState(!1),[l,m]=i.useState(1),[g,o]=i.useState({show:!1}),I=[{key:"Email",label:"Email",required:!0},{key:"1",label:"First Name",required:!1},{key:"2",label:"Last Name",required:!1},{key:"3",label:"Company",required:!1},{key:"4",label:"City",required:!1},{key:"5",label:"Province",required:!1},{key:"6",label:"ZIP",required:!1},{key:"7",label:"State",required:!1},{key:"8",label:"Region",required:!1},{key:"9",label:"Address",required:!1},{key:"10",label:"Gender",required:!1},{key:"11",label:"Phone",required:!1}],[e,n]=i.useState({name:"Mailup",type:"Mailup",clientId:"",clientSecret:"",allList:[],allGroup:[],listId:"",groupId:"",field_map:[{formField:"",mailupFormField:""}],staticFields:I,actions:{}});i.useEffect(()=>{window.opener&&A("mailup")},[]);const q=p=>{if(!y(e)){_.error("Please map mandatory fields");return}e.field_map.length>0&&m(p)};return document.querySelector(".btcd-s-wrp").scrollTop=0,r.jsxs("div",{children:[r.jsx(C,{snack:g,setSnackbar:o}),r.jsx("div",{className:"txt-center mt-2",children:r.jsx(P,{step:3,active:l})}),r.jsx(L,{formID:x,mailupConf:e,setMailupConf:n,step:l,setStep:m,isLoading:d,setIsLoading:c,setSnackbar:o}),r.jsxs("div",{className:"btcd-stp-page",style:b({},l===2&&{width:900,height:"auto",overflow:"visible"}),children:[r.jsx(R,{formFields:a,handleInput:p=>G(p,e,n),mailupConf:e,setMailupConf:n,isLoading:d,setIsLoading:c,setSnackbar:o}),e.listId&&r.jsxs("button",{onClick:()=>q(3),disabled:!(e!=null&&e.listId)||!y(e),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[N("Next","bit-integrations")," ","Â ",r.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.listId&&r.jsx(F,{step:l,saveConfig:()=>E({flow:s,setFlow:t,allIntegURL:h,history:k,conf:e,setIsLoading:c,setSnackbar:o}),isLoading:d,dataConf:e,setDataConf:n,formFields:a})]})}export{Y as default};
