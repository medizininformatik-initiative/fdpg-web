var Jt=(p,e,i)=>{if(!e.has(p))throw TypeError("Cannot "+i)};var t=(p,e,i)=>(Jt(p,e,"read from private field"),i?i.call(p):e.get(p)),o=(p,e,i)=>{if(e.has(p))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(p):e.set(p,i)},u=(p,e,i,s)=>(Jt(p,e,"write to private field"),s?s.call(p,i):e.set(p,i),i);var x=(p,e,i)=>new Promise((s,n)=>{var r=h=>{try{l(i.next(h))}catch(f){n(f)}},a=h=>{try{l(i.throw(h))}catch(f){n(f)}},l=h=>h.done?s(h.value):Promise.resolve(h.value).then(r,a);l((i=i.apply(p,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const Qt=""+new URL("left-circle-arrow.39b1d855.svg",import.meta.url).href,te=""+new URL("right-circle-arrow.395e19da.svg",import.meta.url).href,Xt=""+new URL("close-icon.16a4dff2.svg",import.meta.url).href,d=p=>document.querySelector(p);var q,_,c,b,y,C,E,T,W,H,N,M,k,$,w,O,A,L,B,nt,F,I,G,rt,S,J,D,Q,z,ot,at,X,ct,lt,dt,ht,ut,K,pt,ft,Y,R,tt,et,mt,gt,P,vt,U,Lt,bt,yt,wt,_t,Et,j,Tt,At,Mt,kt,St,V,xt,Z,Ct,Ht,it,Wt;class ee{constructor(e){o(this,q,void 0);o(this,_,void 0);o(this,c,void 0);o(this,b,void 0);o(this,y,void 0);o(this,C,void 0);o(this,E,void 0);o(this,T,void 0);o(this,W,void 0);o(this,H,void 0);o(this,N,void 0);o(this,M,void 0);o(this,k,void 0);o(this,$,void 0);o(this,w,void 0);o(this,O,void 0);o(this,A,void 0);o(this,L,void 0);o(this,B,void 0);o(this,nt,()=>{window.addEventListener("message",t(this,bt)),document.addEventListener("click",t(this,rt)),t(this,y).addEventListener("click",t(this,S)),t(this,y).addEventListener("keydown",e=>{e.key==="Enter"&&t(this,S).call(this,e)})});o(this,F,()=>{var e,i;t(this,G).call(this),t(this,I).call(this),(e=t(this,y))==null||e.classList.remove("open"),(i=t(this,C))==null||i.classList.add("hide"),t(this,J).call(this,!1)});o(this,I,()=>{var e,i;(e=t(this,T))!=null&&e.classList.contains("show")&&((i=t(this,T))==null||i.classList.remove("show"))});o(this,G,()=>{var e,i;(e=t(this,w))!=null&&e.classList.contains("show")&&((i=t(this,w))==null||i.classList.remove("show"))});o(this,rt,e=>{t(this,E).contains(e.target)||t(this,F).call(this)});o(this,S,(e,i=!1)=>{var n,r,a,l;let s=!0;if((n=t(this,w))!=null&&n.classList.contains("show")&&(t(this,G).call(this),s=!1),!(i&&((r=t(this,T))==null?void 0:r.classList.contains("show")))&&((a=t(this,T))==null||a.classList.toggle("show"),s)){t(this,C).classList.toggle("hide");const h=(l=t(this,y))==null?void 0:l.classList.toggle("open");t(this,J).call(this,h)}});o(this,J,e=>{var i;t(this,gt).call(this,e),e&&!((i=t(this,M))!=null&&i.classList.contains("hide"))&&t(this,D).call(this),e||t(this,U).call(this)});o(this,D,()=>{var e,i;(e=t(this,M))==null||e.classList.add("hide"),(i=t(this,k))==null||i.classList.add("hide")});o(this,Q,e=>{var s,n,r,a,l,h,f,g,v;e.preventDefault();const i=e.target.closest(".channel");if(i.dataset.url==="#"){const m=(s=t(this,c))==null?void 0:s.widget_channels.find(st=>st.id===i.dataset.id);(r=(n=m.config)==null?void 0:n.card_config)!=null&&r.faqs?t(this,ht).call(this,m):(l=(a=m.config)==null?void 0:a.card_config)!=null&&l.form_fields?t(this,ot).call(this,m):(f=(h=m.config)==null?void 0:h.card_config)!=null&&f.knowledge_bases?t(this,pt).call(this,m):(v=(g=m.config)==null?void 0:g.card_config)!=null&&v.isChatWidget&&t(this,Lt).call(this,m.channel_name.toLowerCase())}else i.dataset.target==="new_window"?window.open(i.dataset.url,"_blank","popup"):window.open(i.dataset.url,i.dataset.target)});o(this,z,e=>{var i,s,n,r;u(this,O,(s=(i=e==null?void 0:e.card_config)==null?void 0:i.card_bg_color)==null?void 0:s.str),d("#cardHeader>h4").innerHTML=e==null?void 0:e.title,t(this,_).style.setProperty("--card-theme-color",t(this,O)),t(this,_).style.setProperty("--card-text-color",(r=(n=e==null?void 0:e.card_config)==null?void 0:n.card_text_color)==null?void 0:r.str)});o(this,ot,e=>{var s;t(this,I).call(this),t(this,V).call(this),t(this,z).call(this,e.config);const i=(s=e.config)==null?void 0:s.card_config;u(this,L,document.createElement("form")),t(this,L).setAttribute("id","formBody"),t(this,L).setAttribute("method","POST"),t(this,L).innerHTML=`
        <div id="dynamicFields"></div>
        <input type="hidden" name="widget_channel_id" value="${e.id}" />
        <button type="submit">${i==null?void 0:i.submit_button_text}</button>
    `,t(this,A).innerHTML="",t(this,A).appendChild(t(this,L)),t(this,L).addEventListener("submit",t(this,xt)),t(this,at).call(this,i==null?void 0:i.form_fields)});o(this,at,e=>{const i=d("#dynamicFields");let s=!1;e==null||e.forEach(n=>{n.field_type==="file"&&!s&&(d("#formBody").setAttribute("enctype","multipart/form-data"),s=!0),n.field_type==="rating"?t(this,X).call(this,n,i,"rating"):n.field_type==="feedback"?t(this,X).call(this,n,i,"feedback"):t(this,ct).call(this,n,i)})});o(this,X,(e,i,s)=>{const n=Math.floor(Math.random()*1e8),r=e.label.toLowerCase().replace(/ /g,"_"),a=document.createElement("div");a.classList.add(s),s==="rating"&&a.classList.add(e.rating_type);let l=[];s==="feedback"?l=["bug","suggest","love"]:e.rating_type==="star"?l=["5 star","4 star","3 star","2 star","1 star"]:l=["sad","confused","happy"],l.forEach(h=>{const f=`${r}_${h.replace(/ /g,"_")}_${n}`,g=document.createElement("input");g.setAttribute("type","radio"),g.setAttribute("name",r),g.setAttribute("value",h),g.setAttribute("id",f),e.required&&g.setAttribute("required","");const v=document.createElement("label");if(v.setAttribute("title",h),v.setAttribute("for",f),v.setAttribute("class",h),s==="feedback"){v.innerHTML=`${h.charAt(0).toUpperCase()+h.slice(1)}`;const m=document.createElement("div");m.setAttribute("class","feedback-icon"),v.prepend(m)}a.append(g,v)}),i.appendChild(a)});o(this,ct,(e,i)=>{let s=document.createElement("input");if(e.field_type==="textarea"&&(s=document.createElement("textarea")),s.setAttribute("name",`${e.label.toLowerCase().replace(/ /g,"_")}${e!=null&&e.allow_multiple?"[]":""}`),s.setAttribute("placeholder",e.label+(e.required?"":" (optional)")),e.required&&s.setAttribute("required",""),e.field_type==="GDPR"){t(this,dt).call(this,e,i,s);return}if(s.classList.add("formControl"),s.setAttribute("type",e.field_type),e.field_type==="file"){t(this,lt).call(this,e,i,s);return}i.appendChild(s)});o(this,lt,(e,i,s)=>{e!=null&&e.allow_multiple&&s.setAttribute("multiple","");const n=document.createElement("div");n.classList.add("formControl","customFile"),n.innerHTML='<div class="cfit"><button class="cfit-btn">Attach File</button><div class="cfit-title">No file chosen</div></div>',n.append(s),i.appendChild(n),s.addEventListener("change",r=>{let a="No file chosen";const l=r.target.files.length;l>0&&(a=l===1?r.target.files[0].name:`${l} files`);const h=r.target.parentElement.querySelector(".cfit-title");h.innerHTML=a})});o(this,dt,(e,i,s)=>{s.setAttribute("type","checkbox");const n=document.createElement("a");n.target="_blank",n.innerHTML=e.label,e!=null&&e.url&&(n.href=e.url);const r=document.createElement("div");r.classList.add("gdprContainer"),r.append(s,n),i.appendChild(r)});o(this,ht,e=>{var s;t(this,I).call(this),t(this,V).call(this),t(this,z).call(this,e.config);const i=(s=e.config)==null?void 0:s.card_config;t(this,A).innerHTML=`
      <div id="faqBody">
        <div id="listWrapper">
          <div id="lists"></div>
          <input type="text" id="listSearch" class="formControl" placeholder="Search" />
        </div>
        <div id="faqDescription">
          <div class="descriptionTitle">
            <button class="iconBtn closeDescBtn" title="Back"><img src="${Qt}" alt="back" /></button>
            <p></p>
          </div>
          <div class="content"></div>
        </div>
      </div>`,d("#listSearch").addEventListener("input",t(this,et)),d(".closeDescBtn").addEventListener("click",t(this,K)),t(this,ut).call(this,i==null?void 0:i.faqs)});o(this,ut,e=>{t(this,tt).call(this,e),document.querySelectorAll(".listItemTitleWrapper").forEach(i=>{i.addEventListener("click",s=>t(this,K).call(this,s,e)),i.addEventListener("keydown",s=>{s.key==="Enter"&&t(this,K).call(this,s,e)})})});o(this,K,(e,i)=>{var r;if(i){const a=i.find(l=>Number(l.id)===Number(e.target.closest(".listItemTitleWrapper").dataset.item_id));d(".descriptionTitle p").innerHTML=(a==null?void 0:a.title)||"",d(".content").innerHTML=(a==null?void 0:a.description)||""}const s=d("#faqBody");if(s==null?void 0:s.classList.toggle("openDesc")){const a=d("#faqDescription").scrollHeight;Object.assign(s.style,{height:a>400?"400px":`${a}px`,overflow:a>400?"auto":"initial"})}else s.removeAttribute("style");(r=d("#listWrapper"))==null||r.classList.toggle("hide")});o(this,pt,e=>{var s;t(this,I).call(this),t(this,V).call(this),t(this,z).call(this,e.config);const i=(s=e.config)==null?void 0:s.card_config;t(this,A).innerHTML=`
      <div id="knowledgeBaseBody">
        <div id="listWrapper">
          <div id="lists"></div>
          <input type="text" id="listSearch" class="formControl" placeholder="Search" />
        </div>
        <div class="overlay"></div>
        <div id="knowledgeBaseDescription">
          <div class="descriptionTitle">
            <p></p>
						<div class="modalActions">
							<button class="iconBtn rounded prevKB" title="Prev"><img src="${Qt}" alt="prev" /></button>
							<button class="iconBtn rounded nextKB" title="Next"><img src="${te}" alt="next" /></button>
							<button class="iconBtn rounded closeKB" title="Close"><img src="${Xt}" alt="close" /></button>
						</div>
          </div>
          <div class="content"></div>
        </div>
      </div>`,d("#listSearch").addEventListener("input",t(this,et)),d(".closeKB").addEventListener("click",t(this,R)),d(".prevKB").addEventListener("click",()=>t(this,Y).call(this,"previousElementSibling")),d(".nextKB").addEventListener("click",()=>t(this,Y).call(this,"nextElementSibling")),t(this,ft).call(this,i==null?void 0:i.knowledge_bases)});o(this,ft,e=>{t(this,tt).call(this,e),document.querySelectorAll(".listItemTitleWrapper").forEach(i=>{i.addEventListener("click",s=>t(this,R).call(this,s,e)),i.addEventListener("keydown",s=>{s.key==="Enter"&&t(this,R).call(this,s,e)})})});o(this,Y,e=>{const i=d(".listItem.active")[e];i&&i.querySelector(".listItemTitleWrapper").click()});o(this,R,(e,i)=>{var r;(r=d(".listItem.active"))==null||r.classList.remove("active");const s=d("#knowledgeBaseBody");if(!i){s==null||s.classList.remove("openDesc");return}e.target.closest(".listItem").classList.toggle("active");const n=i.find(a=>Number(a.id)===Number(e.target.closest(".listItemTitleWrapper").dataset.item_id));!n||(s==null||s.classList.add("openDesc"),d(".descriptionTitle p").innerHTML=(n==null?void 0:n.title)||"",d(".content").innerHTML=(n==null?void 0:n.description)||"",t(this,_).style.setProperty("--modal-title-height",d(".descriptionTitle").offsetHeight+"px"))});o(this,tt,e=>{let i="";e==null||e.forEach(s=>{i+=`
        <div class="listItem">
          <div class="listItemTitleWrapper" data-item_id="${s.id}" tabindex="0">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" fill="currentColor"><path d="M7.397 14.176a7.09 7.09 0 0 0 7.088-7.088A7.09 7.09 0 0 0 7.397 0 7.09 7.09 0 0 0 .31 7.088a7.09 7.09 0 0 0 7.088 7.088z" fill-opacity=".2"/><path d="M6.504 10.122c-.135 0-.269-.05-.376-.156-.099-.1-.154-.235-.154-.376s.055-.276.154-.376l2.126-2.126-2.126-2.126c-.099-.1-.154-.235-.154-.376s.055-.276.154-.376c.206-.206.546-.206.751 0l2.502 2.502c.206.206.206.546 0 .751L6.88 9.966c-.106.106-.241.156-.376.156z"/></svg>
            <p class="title">${s.title}</p>
          </div>
        </div>`}),d("#lists").innerHTML=i});o(this,et,e=>{const i=e.target.value.toLowerCase();document.querySelectorAll(".listItem").forEach(n=>{n.querySelector(".title").innerText.toLowerCase().includes(i)?n==null||n.classList.remove("hide"):n==null||n.classList.add("hide")})});o(this,mt,()=>{parent.postMessage({action:"getClientInfo"},`${t(this,b)}`)});o(this,gt,e=>{parent.postMessage({action:"widgetOpen",isWidgetOpen:e},`${t(this,b)}`)});o(this,P,()=>{parent.postMessage({action:"removeWidget"},`${t(this,b)}`)});o(this,vt,()=>{var e,i,s,n,r,a,l;parent.postMessage({action:"widgetLoaded",height:(((i=(e=t(this,c))==null?void 0:e.styles)==null?void 0:i.size)||60)+40,width:(((n=(s=t(this,c))==null?void 0:s.styles)==null?void 0:n.size)||60)+40,position:(a=(r=t(this,c))==null?void 0:r.styles)==null?void 0:a.position,pageScroll:(l=t(this,c))==null?void 0:l.page_scroll},`${t(this,b)}`)});o(this,U,()=>{parent.postMessage({action:"resetWidgetSize",height:t(this,E).offsetHeight,width:t(this,E).offsetWidth},`${t(this,b)}`)});o(this,Lt,e=>{parent.postMessage({action:"chatWidgetClick",chatWidgetName:e},`${t(this,b)}`)});o(this,bt,e=>{const{action:i}=e.data;i==="windowLoaded"?t(this,yt).call(this,e.data):i==="scrollPercent"&&t(this,wt).call(this,e.data)});o(this,yt,({url:e,winWidth:i,scrollPercent:s,apiEndPoint:n})=>{t(this,_).style.setProperty("--client-win-width",i+"px"),u(this,N,s),u(this,q,n),u(this,W,i<768),u(this,H,e.slice(t(this,b).length+1,e.length)),t(this,_t).call(this)});o(this,wt,({scrollPercent:e})=>{var i;u(this,N,e),((i=t(this,c))==null?void 0:i.page_scroll)>0&&!t(this,B)&&t(this,it).call(this)});o(this,_t,()=>x(this,null,function*(){try{const{data:e}=yield fetch(`${t(this,q)}/bitAssistWidget`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:t(this,b)})}).then(i=>i.json());if(u(this,c,e),typeof t(this,c).id>"u"){console.error(t(this,c)),t(this,P).call(this);return}t(this,Et).call(this)}catch(e){console.log(e),t(this,P).call(this)}}));o(this,Et,()=>x(this,null,function*(){var e,i;!t(this,At).call(this)||(t(this,vt).call(this),!(((i=(e=t(this,c))==null?void 0:e.business_hours)==null?void 0:i.length)&&!t(this,Mt).call(this))&&(t(this,kt).call(this),t(this,St).call(this),t(this,Ct).call(this),t(this,Tt).call(this),u(this,B,!0),yield t(this,Ht).call(this),u(this,B,!1),t(this,Wt).call(this),t(this,it).call(this)))}));o(this,j,e=>new Promise(i=>setTimeout(i,e*1e3)));o(this,Tt,()=>{var e,i;(e=t(this,c))!=null&&e.hide_credit&&((i=d("#credit"))==null||i.remove())});o(this,At,()=>{var e,i,s;if(((i=(e=t(this,c))==null?void 0:e.exclude_pages)==null?void 0:i.length)>0){let n=!1,r=!1;const a=(s=t(this,c))==null?void 0:s.exclude_pages.some(l=>(l.visibility==="showOn"&&(n=!0),l.condition==="contains"&&t(this,H).includes(l.url)||l.condition==="equal"&&t(this,H)===l.url||l.condition==="startWith"&&t(this,H).startsWith(l.url)||l.condition==="endWith"&&t(this,H).endsWith(l.url)?l.visibility==="hideOn"?!0:(r=!0,!1):!1));if(n&&!a&&!r||!n&&a&&!r)return t(this,P).call(this),!1}return!0});o(this,Mt,()=>{var v,m;const e=new Date,i=(v=t(this,c))==null?void 0:v.business_hours[e.getDay()];if(!i||!(i!=null&&i.start)||!(i!=null&&i.end))return t(this,P).call(this),!1;const[s,n]=(i==null?void 0:i.start.split(":").map(Number))||[0,0],[r,a]=(i==null?void 0:i.end.split(":").map(Number))||[0,0],l=((m=t(this,c))==null?void 0:m.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone,h=e.toLocaleTimeString("en-US",{timeZone:l,hour12:!1}),[f,g]=h.split(":").map(Number);return(f<s||f===s&&g<n||f>r||f===r&&g>a)&&u(this,$,!1),!0});o(this,kt,()=>{var e;if(((e=t(this,c).custom_css)==null?void 0:e.length)>0){const i=document.createElement("style");i.appendChild(document.createTextNode(t(this,c).custom_css)),document.head.appendChild(i)}});o(this,St,()=>{var e,i;u(this,T,document.createElement("div")),t(this,T).id="channels",t(this,T).innerHTML=(i=(e=t(this,c))==null?void 0:e.widget_channels)==null?void 0:i.filter(s=>{var n,r,a;return(t(this,W)&&((n=s.config)==null?void 0:n.channel_show_on.includes("mobile"))||!t(this,W)&&((r=s.config)==null?void 0:r.channel_show_on.includes("desktop")))&&(!t(this,$)&&!((a=s.config)!=null&&a.hide_after_office_hours)||t(this,$))}).map(s=>{var n;return`
          <div class="channel" tabindex="0" data-id="${s.id}" data-url="${((n=s.config)==null?void 0:n.url)||"#"}" data-target="${s.config.open_window_action}">
            <div class="channel-name">${s.config.title}</div>
            <div class="channel-icon">
              <img src="${s.channel_icon}" alt="${s.config.title}">
            </div>
          </div>`}).join(""),t(this,C).appendChild(t(this,T)),document.querySelectorAll(".channel").forEach(s=>{s.addEventListener("click",t(this,Q)),s.addEventListener("keydown",n=>{n.key==="Enter"&&t(this,Q).call(this,n)})})});o(this,V,()=>{var i;if(d("#card")){(i=t(this,w))==null||i.classList.add("show");return}u(this,w,document.createElement("div")),t(this,w).setAttribute("id","card"),t(this,w).classList.add("show"),t(this,w).innerHTML=`
        <div id="cardHeader">
          <h4></h4>
          <button class="iconBtn closeCardBtn" title="Close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" fill="currentColor"><path d="M6.061 5l2.969-2.969A.75.75 0 0 0 9.03.97.75.75 0 0 0 7.969.969L5 3.938 2.031.969a.75.75 0 0 0-1.062 0 .75.75 0 0 0 0 1.063L3.938 5 .969 7.969a.75.75 0 0 0 0 1.062.75.75 0 0 0 1.063 0L5 6.063l2.969 2.969a.75.75 0 0 0 1.063 0 .75.75 0 0 0 0-1.062L6.061 5z"/></svg></button>
        </div>
        <div id="cardBody"></div>`,t(this,C).appendChild(t(this,w)),u(this,A,d("#cardBody"));const e=d(".closeCardBtn");e.addEventListener("click",t(this,F)),e.addEventListener("keydown",s=>{s.key==="Enter"&&t(this,F).call(this)})});o(this,xt,e=>x(this,null,function*(){e.preventDefault();const i=e.target.querySelector('[type="submit"]'),s=i.innerHTML,n=new FormData(e.target);try{i.innerHTML="Sending...",i==null||i.classList.add("disabled");const r=yield fetch(`${t(this,q)}/responses`,{method:"POST",body:n}).then(a=>a.json());(r==null?void 0:r.status)==="success"?yield t(this,Z).call(this,"success",r==null?void 0:r.data):yield t(this,Z).call(this,"error",r==null?void 0:r.data),e.target.reset(),e.target.querySelectorAll(".cfit-title").forEach(a=>{a.innerHTML="No file chosen"}),i==null||i.classList.remove("disabled"),i.innerHTML=s}catch(r){console.log(r),yield t(this,Z).call(this,"error"),e.target.reset(),e.target.querySelectorAll(".cfit-title").forEach(a=>{a.innerHTML="No file chosen"}),i==null||i.classList.remove("disabled"),i.innerHTML=s}}));o(this,Z,(e,i)=>x(this,null,function*(){var n,r,a;if(!t(this,A).contains(t(this,L)))return;const s=document.createElement("div");s.classList.add("toast"),s.classList.add(e),s.innerHTML=`
      <div class="toast-content">
        <div class="toast-text">
          <div class="toast-text-title">${e==="success"?"Success":"Error"}</div>
          <div class="toast-text-body">${e==="success"?i:"Something went wrong"}</div>
        </div>
      </div>`,t(this,A).appendChild(s),(n=t(this,L))==null||n.classList.add("hide"),s.classList.contains("success")&&(d(".toast-text-title").style.color=t(this,O)),yield t(this,j).call(this,2),(r=t(this,L))!=null&&r.classList.contains("hide")&&(t(this,A).removeChild(s),(a=t(this,L))==null||a.classList.remove("hide"))}));o(this,Ct,()=>{var i,s,n,r,a,l,h,f,g,v,m,st,$t,Bt,It,Pt,qt,Nt,Ot,Ft,Dt,zt,Kt,Rt,Ut,jt,Vt,Zt,Gt;t(this,_).style.setProperty("--widget-size",(((s=(i=t(this,c))==null?void 0:i.styles)==null?void 0:s.size)||60)+"px"),t(this,_).style.setProperty("--widget-color",(a=(r=(n=t(this,c))==null?void 0:n.styles)==null?void 0:r.color)==null?void 0:a.str),((l=t(this,c))==null?void 0:l.widget_behavior)===2?(t(this,y).removeEventListener("click",t(this,S)),t(this,y).addEventListener("mouseenter",Yt=>t(this,S).call(this,Yt,!0)),t(this,E).addEventListener("mouseleave",t(this,S))):((h=t(this,c))==null?void 0:h.widget_behavior)===3&&t(this,S).call(this),(v=t(this,y))==null||v.classList.add((g=(f=t(this,c))==null?void 0:f.styles)==null?void 0:g.shape),($t=t(this,E))==null||$t.classList.add((st=(m=t(this,c))==null?void 0:m.styles)==null?void 0:st.position),d("#widget-img").src=((It=(Bt=t(this,c))==null?void 0:Bt.styles)==null?void 0:It.customImage)||((qt=(Pt=t(this,c))==null?void 0:Pt.styles)==null?void 0:qt.iconUrl),(Ft=d("#widget-img"))==null||Ft.classList.add((Ot=(Nt=t(this,c))==null?void 0:Nt.styles)!=null&&Ot.customImage?"image":"icon");const e=Math.round((parseInt((Kt=(zt=(Dt=t(this,c))==null?void 0:Dt.styles)==null?void 0:zt.color)==null?void 0:Kt.r,10)*299+parseInt((jt=(Ut=(Rt=t(this,c))==null?void 0:Rt.styles)==null?void 0:Ut.color)==null?void 0:jt.g,10)*587+parseInt((Gt=(Zt=(Vt=t(this,c))==null?void 0:Vt.styles)==null?void 0:Zt.color)==null?void 0:Gt.b,10)*114)/1e3);t(this,_).style.setProperty("--widget-bubble-icon-color",e>125?"invert(0)":"invert(1)")});o(this,Ht,()=>x(this,null,function*(){var e;((e=t(this,c))==null?void 0:e.initial_delay)>0&&(yield t(this,j).call(this,t(this,c).initial_delay))}));o(this,it,()=>x(this,null,function*(){var e,i;((e=t(this,c))==null?void 0:e.page_scroll)<=0||t(this,N)>=((i=t(this,c))==null?void 0:i.page_scroll)?t(this,E).classList.remove("hide"):t(this,E).classList.add("hide"),t(this,U).call(this)}));o(this,Wt,()=>x(this,null,function*(){var e,i,s,n,r;if(!!((i=(e=t(this,c))==null?void 0:e.call_to_action)!=null&&i.text)){if(((n=(s=t(this,c))==null?void 0:s.call_to_action)==null?void 0:n.delay)>0&&(yield t(this,j).call(this,t(this,c).call_to_action.delay)),u(this,M,document.createElement("div")),t(this,M).id="callToActionMsg",t(this,M).innerHTML=t(this,c).call_to_action.text,u(this,k,document.createElement("img")),t(this,k).id="closeCallToAction",t(this,k).src=Xt,t(this,k).addEventListener("click",t(this,D)),d("#widgetBubbleRow").prepend(t(this,k),t(this,M)),(r=t(this,y))!=null&&r.classList.contains("open")){t(this,D).call(this);return}t(this,U).call(this)}}));u(this,B,!0),u(this,$,!0),u(this,W,!1),u(this,_,document.documentElement),u(this,b,e.clientDomain),u(this,C,d("#contentWrapper")),u(this,E,d("#widgetWrapper")),u(this,y,d(e.widgetBubble)),t(this,nt).call(this),t(this,mt).call(this)}}q=new WeakMap,_=new WeakMap,c=new WeakMap,b=new WeakMap,y=new WeakMap,C=new WeakMap,E=new WeakMap,T=new WeakMap,W=new WeakMap,H=new WeakMap,N=new WeakMap,M=new WeakMap,k=new WeakMap,$=new WeakMap,w=new WeakMap,O=new WeakMap,A=new WeakMap,L=new WeakMap,B=new WeakMap,nt=new WeakMap,F=new WeakMap,I=new WeakMap,G=new WeakMap,rt=new WeakMap,S=new WeakMap,J=new WeakMap,D=new WeakMap,Q=new WeakMap,z=new WeakMap,ot=new WeakMap,at=new WeakMap,X=new WeakMap,ct=new WeakMap,lt=new WeakMap,dt=new WeakMap,ht=new WeakMap,ut=new WeakMap,K=new WeakMap,pt=new WeakMap,ft=new WeakMap,Y=new WeakMap,R=new WeakMap,tt=new WeakMap,et=new WeakMap,mt=new WeakMap,gt=new WeakMap,P=new WeakMap,vt=new WeakMap,U=new WeakMap,Lt=new WeakMap,bt=new WeakMap,yt=new WeakMap,wt=new WeakMap,_t=new WeakMap,Et=new WeakMap,j=new WeakMap,Tt=new WeakMap,At=new WeakMap,Mt=new WeakMap,kt=new WeakMap,St=new WeakMap,V=new WeakMap,xt=new WeakMap,Z=new WeakMap,Ct=new WeakMap,Ht=new WeakMap,it=new WeakMap,Wt=new WeakMap;const ie=new URL(window.location.href),se=ie.searchParams.get("clientDomain");new ee({widgetBubble:"#widgetBubble",clientDomain:se});
