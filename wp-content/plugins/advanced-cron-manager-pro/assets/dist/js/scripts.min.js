!function(e){e(".tools_page_advanced-cron-manager").on("click",".logs-accordion .toggle",function(a){a.preventDefault();var n=e(this);n.next().hasClass("show")?(n.next().removeClass("show"),n.next().hide()):(n.parent().parent().find("li .inner").removeClass("show"),n.parent().parent().find("li .inner").hide(),n.next().toggleClass("show"),n.next().toggle())})}(jQuery),function(e){e("#license-form").on("submit",function(a){a.preventDefault(),wp.hooks.doAction("advanced-cron-manager.license.action",e(this))}),wp.hooks.addAction("advanced-cron-manager.license.action","bracketspace/acm/license-action",function(a){var n=a.find(".button-secondary").first(),t={action:"acm/license/"+n.data("action"),license:a.find(".license-key").val(),nonce:n.data("nonce")},c=n.val();n.val(advanced_cron_manager_pro.i18n.saving),n.attr("disabled",!0),e.post(ajaxurl,t,function(e){advanced_cron_manager.ajax_messages(e),1==e.success?"activate"==n.data("action")?(a.parent().find(".status").removeClass().addClass("status").text(advanced_cron_manager_pro.i18n.activated),n.val(advanced_cron_manager_pro.i18n.activated)):(a.parent().find(".status").removeClass().addClass("status").text(advanced_cron_manager_pro.i18n.deactivated),n.val(advanced_cron_manager_pro.i18n.deactivated)):(n.val(c),n.attr("disabled",!1))})})}(jQuery),function(e){e(".tools_page_advanced-cron-manager").on("click",".load-more-logs",function(a){a.preventDefault();var n=e(this),t=n.data("total"),c=n.data("page"),o=n.data("event"),s=n.prev();n.attr("disabled",!0);var r=n.text();n.text(advanced_cron_manager_pro.i18n.loading);var d={action:"acm/logs/load_more",event:o,page:c+1};e.post(ajaxurl,d,function(e){e.success&&s.append(e.data),s.find("> li").length>=t?n.remove():(n.data("page",c+1),n.attr("disabled",!1),n.text(r))})})}(jQuery),function(e){e("#log-settings-form").on("submit",function(a){a.preventDefault(),wp.hooks.doAction("advanced-cron-manager.logs.settings.action",e(this))}),wp.hooks.addAction("advanced-cron-manager.logs.settings.action","bracketspace/acm/logs-settings-action",function(a){var n=a.find(".button-secondary").first(),t={action:"acm/logs/settings/save",data:a.serialize(),nonce:n.data("nonce")},c=n.val();n.val(advanced_cron_manager_pro.i18n.saving),n.attr("disabled",!0),e.post(ajaxurl,t,function(e){advanced_cron_manager.ajax_messages(e),n.val(c),n.attr("disabled",!1)})}),e("#log-settings-form").on("change",".master-setting input",function(){this.checked?e(this).parent().nextAll(".dependants").show():e(this).parent().nextAll(".dependants").hide()})}(jQuery),function(e){wp.hooks.addAction("advanced-cron-manager.event.executed","bracketspace/acm/event-executed",function(a,n){var t={action:"acm/logs/refresh",event:a};e.post(ajaxurl,t,function(e){if(1==e.success){var a=n.find(".details .content.logs .logs-accordion");a.length?a.replaceWith(e.data):n.find(".details .content.logs").html(e.data)}})}),wp.hooks.addAction("advanced-cron-manager.event.executed","bracketspace/acm/event-executed",function(a,n){var t=e("#logs-section");if(0==t.length)return!1;var c={action:"acm/logs/refresh",event:null};e.post(ajaxurl,c,function(e){1==e.success&&t.find(".tile-content").html(e.data)})})}(jQuery),function(e){e(".tools_page_advanced-cron-manager").on("click",".event .reschedule-event",function(a){a.preventDefault(),wp.hooks.doAction("advanced-cron-manager.event.reschedule",e(this))}),e(".slidebar").on("submit",".event-reschedule",function(a){a.preventDefault(),wp.hooks.doAction("advanced-cron-manager.event.reschedule.process",e(this))}),wp.hooks.addAction("advanced-cron-manager.event.reschedule","bracketspace/acm/event-reschedule",function(a){advanced_cron_manager.slidebar.open(),advanced_cron_manager.slidebar.wait();var n={action:"acm/event/reschedule/form",nonce:a.data("nonce"),event_hash:a.data("event")};e.post(ajaxurl,n,function(e){advanced_cron_manager.slidebar.fulfill(e.data)})}),wp.hooks.addAction("advanced-cron-manager.event.reschedule.process","bracketspace/acm/event-reschedule-process",function(a){advanced_cron_manager.slidebar.form_process_start();var n={action:"acm/event/reschedule",nonce:a.find("#nonce").val(),data:a.serialize()};e.post(ajaxurl,n,function(e){advanced_cron_manager.ajax_messages(e),1==e.success?wp.hooks.doAction("advanced-cron-manager.event.rescheduled",a.find("#event-hook").val()):advanced_cron_manager.slidebar.form_process_stop()})});var a=function(){e("#events").addClass("loading"),e.post(ajaxurl,{action:"acm/rerender/events"},function(a){e("#events").replaceWith(a.data),advanced_cron_manager.slidebar.form_process_stop(),advanced_cron_manager.slidebar.close()})};wp.hooks.addAction("advanced-cron-manager.event.rescheduled","bracketspace/acm/event-rescheduled",a),wp.hooks.addAction("advanced-cron-manager.event.reschedule.process","bracketspace/acm/event-reschedule-process",function(e){e.find("#event-offset").val((new Date).getTimezoneOffset()/60)},5)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY29yZGlvbi5qcyIsImxpY2Vuc2UuanMiLCJsb2FkLW1vcmUtbG9ncy5qcyIsImxvZ3Mtc2V0dGluZ3MuanMiLCJyZWZyZXNoLWxvZ3MuanMiLCJyZXNjaGVkdWxlLWV2ZW50LmpzIl0sIm5hbWVzIjpbIiQiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCIkdGhpcyIsInRoaXMiLCJuZXh0IiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhpZGUiLCJwYXJlbnQiLCJmaW5kIiwidG9nZ2xlQ2xhc3MiLCJ0b2dnbGUiLCJqUXVlcnkiLCJ3cCIsImhvb2tzIiwiZG9BY3Rpb24iLCJhZGRBY3Rpb24iLCIkZm9ybSIsIiRidXR0b24iLCJmaXJzdCIsImRhdGEiLCJhY3Rpb24iLCJsaWNlbnNlIiwidmFsIiwibm9uY2UiLCJidXR0b25fbGFiZWwiLCJhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvIiwiaTE4biIsInNhdmluZyIsImF0dHIiLCJwb3N0IiwiYWpheHVybCIsInJlc3BvbnNlIiwiYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyIiwiYWpheF9tZXNzYWdlcyIsInN1Y2Nlc3MiLCJhZGRDbGFzcyIsInRleHQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsInRvdGFsIiwicGFnZSIsImV2ZW50X2hhc2giLCIkY29udGFpbmVyIiwicHJldiIsIm9sZF9sYWJlbCIsImxvYWRpbmciLCJhcHBlbmQiLCJsZW5ndGgiLCJyZW1vdmUiLCJzZXJpYWxpemUiLCJjaGVja2VkIiwibmV4dEFsbCIsInNob3ciLCIkZXZlbnRfcm93IiwiJGFjY29yZGlvbiIsInJlcGxhY2VXaXRoIiwiaHRtbCIsIiRsb2dzX3NlY3Rpb24iLCJzbGlkZWJhciIsIm9wZW4iLCJ3YWl0IiwiZnVsZmlsbCIsImZvcm1fcHJvY2Vzc19zdGFydCIsImZvcm1fcHJvY2Vzc19zdG9wIiwiZXZlbnRzX3RhYmxlX3JlcmVuZGVyIiwiY2xvc2UiLCJEYXRlIiwiZ2V0VGltZXpvbmVPZmZzZXQi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QUFqQixFQUFBSyxTQVNBVSxHQUFBQyxNQUFBRSxVQUFBLHlDQUFBLG9DQUFBLFNBQUFFLEdBRUFlLHNCQUFBMEIsU0FBQUMsT0FDQTNCLHNCQUFBMEIsU0FBQUUsTUFFQSxJQUFBekMsSUFDQUMsT0FBQSw0QkFDQUcsTUFBQU4sRUFBQUUsS0FBQSxTQUNBc0IsV0FBQXhCLEVBQUFFLEtBQUEsU0FHQXRCLEdBQUFnQyxLQUFBQyxRQUFBWCxFQUFBLFNBQUFZLEdBQ0FDLHNCQUFBMEIsU0FBQUcsUUFBQTlCLEVBQUFaLFVBTUFQLEdBQUFDLE1BQUFFLFVBQUEsaURBQUEsNENBQUEsU0FBQUMsR0FFQWdCLHNCQUFBMEIsU0FBQUksb0JBRUEsSUFBQTNDLElBQ0FDLE9BQUEsdUJBQ0FHLE1BQUFQLEVBQUFSLEtBQUEsVUFBQWMsTUFDQUgsS0FBQUgsRUFBQWlDLFlBR0FwRCxHQUFBZ0MsS0FBQUMsUUFBQVgsRUFBQSxTQUFBWSxHQUVBQyxzQkFBQUMsY0FBQUYsR0FFQSxHQUFBQSxFQUFBRyxRQUNBdEIsR0FBQUMsTUFBQUMsU0FBQSwwQ0FBQUUsRUFBQVIsS0FBQSxlQUFBYyxPQUVBVSxzQkFBQTBCLFNBQUFLLHVCQVFBLElBQUFDLEdBQUEsV0FFQW5FLEVBQUEsV0FBQXNDLFNBQUEsV0FFQXRDLEVBQUFnQyxLQUFBQyxTQUFBVixPQUFBLHVCQUFBLFNBQUFXLEdBQ0FsQyxFQUFBLFdBQUEwRCxZQUFBeEIsRUFBQVosTUFDQWEsc0JBQUEwQixTQUFBSyxvQkFDQS9CLHNCQUFBMEIsU0FBQU8sVUFLQXJELElBQUFDLE1BQUFFLFVBQUEsMENBQUEscUNBQUFpRCxHQU9BcEQsR0FBQUMsTUFBQUUsVUFBQSxpREFBQSw0Q0FBQSxTQUFBQyxHQUNBQSxFQUFBUixLQUFBLGlCQUFBYyxLQUFBLEdBQUE0QyxPQUFBQyxvQkFBQSxLQUNBLElBRUF4RCIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oICQgKSB7XG5cblx0JCggJy50b29sc19wYWdlX2FkdmFuY2VkLWNyb24tbWFuYWdlcicgKS5vbiggJ2NsaWNrJywgJy5sb2dzLWFjY29yZGlvbiAudG9nZ2xlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyk7XG5cblx0XHRpZiAoICR0aGlzLm5leHQoKS5oYXNDbGFzcyggJ3Nob3cnICkgKSB7XG5cblx0XHRcdCR0aGlzLm5leHQoKS5yZW1vdmVDbGFzcyggJ3Nob3cnICk7XG5cdFx0XHQkdGhpcy5uZXh0KCkuaGlkZSgpO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0JHRoaXMucGFyZW50KCkucGFyZW50KCkuZmluZCggJ2xpIC5pbm5lcicgKS5yZW1vdmVDbGFzcyggJ3Nob3cnICk7XG5cdFx0XHQkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCAnbGkgLmlubmVyJyApLmhpZGUoKTtcblx0XHRcdCR0aGlzLm5leHQoKS50b2dnbGVDbGFzcyggJ3Nob3cnICk7XG5cdFx0XHQkdGhpcy5uZXh0KCkudG9nZ2xlKCk7XG5cblx0XHR9XG5cblx0fSk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQvLyBGb3JtIHByb2Nlc3NpbmcgLy9cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0JCggJyNsaWNlbnNlLWZvcm0nICkub24oICdzdWJtaXQnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmxpY2Vuc2UuYWN0aW9uJywgJCh0aGlzKSApO1xuXG5cdH0gKTtcblxuXHQvLy8vLy8vLy8vLy8vXG5cdC8vIEFjdGlvbnMgLy9cblx0Ly8vLy8vLy8vLy8vL1xuXG5cdC8vIGxpY2Vuc2UgYWN0aW9uXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci5saWNlbnNlLmFjdGlvbicsICdicmFja2V0c3BhY2UvYWNtL2xpY2Vuc2UtYWN0aW9uJywgZnVuY3Rpb24oICRmb3JtICkge1xuXG5cdFx0dmFyICRidXR0b24gPSAkZm9ybS5maW5kKCAnLmJ1dHRvbi1zZWNvbmRhcnknICkuZmlyc3QoKTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0J2FjdGlvbicgIDogJ2FjbS9saWNlbnNlLycgKyAkYnV0dG9uLmRhdGEoICdhY3Rpb24nICksXG5cdFx0XHQnbGljZW5zZScgOiAkZm9ybS5maW5kKCAnLmxpY2Vuc2Uta2V5JyApLnZhbCgpLFxuXHRcdFx0J25vbmNlJyAgIDogJGJ1dHRvbi5kYXRhKCAnbm9uY2UnIClcblx0ICAgIH07XG5cblx0ICAgIHZhciBidXR0b25fbGFiZWwgPSAkYnV0dG9uLnZhbCgpO1xuXG5cdCAgICAkYnV0dG9uLnZhbCggYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyX3Byby5pMThuLnNhdmluZyApO1xuXHQgICAgJGJ1dHRvbi5hdHRyKCAnZGlzYWJsZWQnLCB0cnVlICk7XG5cblx0ICAgICQucG9zdCggYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdCAgICAgICAgYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLmFqYXhfbWVzc2FnZXMoIHJlc3BvbnNlICk7XG5cblx0ICAgICAgICBpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gdHJ1ZSApIHtcblxuXHQgICAgICAgIFx0aWYgKCAkYnV0dG9uLmRhdGEoICdhY3Rpb24nICkgPT0gJ2FjdGl2YXRlJyApIHtcblx0ICAgICAgICBcdFx0JGZvcm0ucGFyZW50KCkuZmluZCggJy5zdGF0dXMnICkucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcyggJ3N0YXR1cycgKS50ZXh0KCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4uYWN0aXZhdGVkICk7XG5cdCAgICAgICAgXHRcdCRidXR0b24udmFsKCBhZHZhbmNlZF9jcm9uX21hbmFnZXJfcHJvLmkxOG4uYWN0aXZhdGVkICk7XG5cdCAgICAgICAgXHR9IGVsc2Uge1xuXHQgICAgICAgIFx0XHQkZm9ybS5wYXJlbnQoKS5maW5kKCAnLnN0YXR1cycgKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCAnc3RhdHVzJyApLnRleHQoIGFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8uaTE4bi5kZWFjdGl2YXRlZCApO1xuXHQgICAgICAgIFx0XHQkYnV0dG9uLnZhbCggYWR2YW5jZWRfY3Jvbl9tYW5hZ2VyX3Byby5pMThuLmRlYWN0aXZhdGVkICk7XG5cdCAgICAgICAgXHR9XG5cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIFx0JGJ1dHRvbi52YWwoIGJ1dHRvbl9sYWJlbCApO1xuXHRcdFx0ICAgICRidXR0b24uYXR0ciggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0ICAgICAgICB9XG5cblx0ICAgIH0gKTtcblxuXHR9ICk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdCQoICcudG9vbHNfcGFnZV9hZHZhbmNlZC1jcm9uLW1hbmFnZXInICkub24oICdjbGljaycsICcubG9hZC1tb3JlLWxvZ3MnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyICRidXR0b24gICAgPSAkKCB0aGlzICksXG5cdFx0XHR0b3RhbCAgICAgID0gJGJ1dHRvbi5kYXRhKCAndG90YWwnICksXG5cdFx0XHRwYWdlICAgICAgID0gJGJ1dHRvbi5kYXRhKCAncGFnZScgKSxcblx0XHRcdGV2ZW50X2hhc2ggPSAkYnV0dG9uLmRhdGEoICdldmVudCcgKSxcblx0XHRcdCRjb250YWluZXIgPSAkYnV0dG9uLnByZXYoKTtcblxuXHRcdCRidXR0b24uYXR0ciggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuXHRcdHZhciBvbGRfbGFiZWwgPSAkYnV0dG9uLnRleHQoKTtcblx0XHQkYnV0dG9uLnRleHQoIGFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8uaTE4bi5sb2FkaW5nICk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdCdhY3Rpb24nOiAnYWNtL2xvZ3MvbG9hZF9tb3JlJyxcblx0XHRcdCdldmVudCcgOiBldmVudF9oYXNoLFxuXHRcdFx0J3BhZ2UnIDogcGFnZSArIDFcblx0ICAgIH07XG5cblx0ICAgICQucG9zdCggYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdCAgICBcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0ICAgIFx0XHQkY29udGFpbmVyLmFwcGVuZCggcmVzcG9uc2UuZGF0YSApO1xuXHQgICAgXHR9XG5cblx0ICAgIFx0aWYgKCAkY29udGFpbmVyLmZpbmQoICc+IGxpJyApLmxlbmd0aCA+PSB0b3RhbCApIHtcblx0ICAgIFx0XHQkYnV0dG9uLnJlbW92ZSgpO1xuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdCRidXR0b24uZGF0YSggJ3BhZ2UnLCBwYWdlICsgMSApLFxuXHRcdCAgICAgICAgJGJ1dHRvbi5hdHRyKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuXHRcdFx0XHQkYnV0dG9uLnRleHQoIG9sZF9sYWJlbCApO1xuXHQgICAgXHR9XG5cblx0ICAgIH0gKTtcblxuXHR9ICk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQvLyBGb3JtIHByb2Nlc3NpbmcgLy9cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0JCggJyNsb2ctc2V0dGluZ3MtZm9ybScgKS5vbiggJ3N1Ym1pdCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0d3AuaG9va3MuZG9BY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIubG9ncy5zZXR0aW5ncy5hY3Rpb24nLCAkKHRoaXMpICk7XG5cblx0fSApO1xuXG5cdC8vLy8vLy8vLy8vLy9cblx0Ly8gQWN0aW9ucyAvL1xuXHQvLy8vLy8vLy8vLy8vXG5cblx0Ly8gbGljZW5zZSBhY3Rpb25cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmxvZ3Muc2V0dGluZ3MuYWN0aW9uJywgJ2JyYWNrZXRzcGFjZS9hY20vbG9ncy1zZXR0aW5ncy1hY3Rpb24nLCBmdW5jdGlvbiggJGZvcm0gKSB7XG5cblx0XHR2YXIgJGJ1dHRvbiA9ICRmb3JtLmZpbmQoICcuYnV0dG9uLXNlY29uZGFyeScgKS5maXJzdCgpO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJyA6ICdhY20vbG9ncy9zZXR0aW5ncy9zYXZlJyxcblx0XHRcdCdkYXRhJyAgIDogJGZvcm0uc2VyaWFsaXplKCksXG5cdFx0XHQnbm9uY2UnICA6ICRidXR0b24uZGF0YSggJ25vbmNlJyApXG5cdCAgICB9O1xuXG5cdCAgICB2YXIgYnV0dG9uX2xhYmVsID0gJGJ1dHRvbi52YWwoKTtcblxuXHQgICAgJGJ1dHRvbi52YWwoIGFkdmFuY2VkX2Nyb25fbWFuYWdlcl9wcm8uaTE4bi5zYXZpbmcgKTtcblx0ICAgICRidXR0b24uYXR0ciggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuXG5cdCAgICAkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHQgICAgICAgIGFkdmFuY2VkX2Nyb25fbWFuYWdlci5hamF4X21lc3NhZ2VzKCByZXNwb25zZSApO1xuXG5cdCAgICAgICAgJGJ1dHRvbi52YWwoIGJ1dHRvbl9sYWJlbCApO1xuXHRcdCAgICAkYnV0dG9uLmF0dHIoICdkaXNhYmxlZCcsIGZhbHNlICk7XG5cblx0ICAgIH0gKTtcblxuXHR9ICk7XG5cblx0Ly8vLy8vLy8vLy8vL1xuXHQvLyBIZWxwZXJzIC8vXG5cdC8vLy8vLy8vLy8vLy9cblxuXHQkKCAnI2xvZy1zZXR0aW5ncy1mb3JtJyApLm9uKCAnY2hhbmdlJywgJy5tYXN0ZXItc2V0dGluZyBpbnB1dCcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCB0aGlzLmNoZWNrZWQgKSB7XG5cdFx0XHQkKCB0aGlzICkucGFyZW50KCkubmV4dEFsbCggJy5kZXBlbmRhbnRzJyApLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JCggdGhpcyApLnBhcmVudCgpLm5leHRBbGwoICcuZGVwZW5kYW50cycgKS5oaWRlKCk7XG5cdFx0fVxuXG5cdH0gKTtcblxufSApKCBqUXVlcnkgKTtcbiIsIiggZnVuY3Rpb24oICQgKSB7XG5cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmV2ZW50LmV4ZWN1dGVkJywgJ2JyYWNrZXRzcGFjZS9hY20vZXZlbnQtZXhlY3V0ZWQnLCBmdW5jdGlvbiggZXZlbnRfaGFzaCwgJGV2ZW50X3JvdyApIHtcblxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0J2FjdGlvbic6ICdhY20vbG9ncy9yZWZyZXNoJyxcblx0XHRcdCdldmVudCcgOiBldmVudF9oYXNoLFxuXHQgICAgfTtcblxuXHQgICAgJC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0ICAgICAgICBpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gdHJ1ZSApIHtcblxuICAgICAgICBcdFx0dmFyICRhY2NvcmRpb24gPSAkZXZlbnRfcm93LmZpbmQoICcuZGV0YWlscyAuY29udGVudC5sb2dzIC5sb2dzLWFjY29yZGlvbicgKTtcblxuICAgICAgICBcdFx0aWYgKCAkYWNjb3JkaW9uLmxlbmd0aCApIHtcbiAgICAgICAgXHRcdFx0JGFjY29yZGlvbi5yZXBsYWNlV2l0aCggcmVzcG9uc2UuZGF0YSApO1xuICAgICAgICBcdFx0fSBlbHNlIHtcbiAgICAgICAgXHRcdFx0JGV2ZW50X3Jvdy5maW5kKCAnLmRldGFpbHMgLmNvbnRlbnQubG9ncycgKS5odG1sKCByZXNwb25zZS5kYXRhICk7XG4gICAgICAgIFx0XHR9XG5cblx0ICAgICAgICB9XG5cblx0ICAgIH0gKTtcblxuXHR9ICk7XG5cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmV2ZW50LmV4ZWN1dGVkJywgJ2JyYWNrZXRzcGFjZS9hY20vZXZlbnQtZXhlY3V0ZWQnLCBmdW5jdGlvbiggZXZlbnRfaGFzaCwgJGV2ZW50X3JvdyApIHtcblxuXHRcdHZhciAkbG9nc19zZWN0aW9uID0gJCggJyNsb2dzLXNlY3Rpb24nIClcblxuXHRcdC8vIGNoZWNrIGlmIGdlbmVyYWwgc2VjdGlvbiBpcyBkaXNwbGF5ZWRcblx0XHRpZiAoICRsb2dzX3NlY3Rpb24ubGVuZ3RoID09IDAgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJzogJ2FjbS9sb2dzL3JlZnJlc2gnLFxuXHRcdFx0J2V2ZW50JyA6IG51bGxcblx0ICAgIH07XG5cblx0ICAgICQucG9zdCggYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdCAgICAgICAgaWYgKCByZXNwb25zZS5zdWNjZXNzID09IHRydWUgKSB7XG5cdCAgICAgICAgXHQkbG9nc19zZWN0aW9uLmZpbmQoICcudGlsZS1jb250ZW50JyApLmh0bWwoIHJlc3BvbnNlLmRhdGEgKTtcblx0ICAgICAgICB9XG5cblx0ICAgIH0gKTtcblxuXHR9ICk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iLCIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy9cblx0Ly8gRm9ybSByZXF1ZXN0cyAvL1xuXHQvLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0JCggJy50b29sc19wYWdlX2FkdmFuY2VkLWNyb24tbWFuYWdlcicgKS5vbiggJ2NsaWNrJywgJy5ldmVudCAucmVzY2hlZHVsZS1ldmVudCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0d3AuaG9va3MuZG9BY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIuZXZlbnQucmVzY2hlZHVsZScsICQodGhpcykgKTtcblxuXHR9ICk7XG5cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdC8vIEZvcm0gcHJvY2Vzc2luZyAvL1xuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXHQkKCAnLnNsaWRlYmFyJyApLm9uKCAnc3VibWl0JywgJy5ldmVudC1yZXNjaGVkdWxlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci5ldmVudC5yZXNjaGVkdWxlLnByb2Nlc3MnLCAkKHRoaXMpICk7XG5cblx0fSApO1xuXG5cdC8vLy8vLy8vLy8vLy9cblx0Ly8gQWN0aW9ucyAvL1xuXHQvLy8vLy8vLy8vLy8vXG5cblx0Ly8gZm9ybSByZXF1ZXN0XG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ2FkdmFuY2VkLWNyb24tbWFuYWdlci5ldmVudC5yZXNjaGVkdWxlJywgJ2JyYWNrZXRzcGFjZS9hY20vZXZlbnQtcmVzY2hlZHVsZScsIGZ1bmN0aW9uKCAkYnV0dG9uICkge1xuXG5cdFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyLm9wZW4oKTtcblx0XHRhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIud2FpdCgpO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdCAgICAgICAgJ2FjdGlvbicgICAgOiAnYWNtL2V2ZW50L3Jlc2NoZWR1bGUvZm9ybScsXG5cdCAgICAgICAgJ25vbmNlJyAgICAgOiAkYnV0dG9uLmRhdGEoICdub25jZScgKSxcblx0ICAgICAgICAnZXZlbnRfaGFzaCc6ICRidXR0b24uZGF0YSggJ2V2ZW50JyApXG5cdCAgICB9O1xuXG5cdCAgICAkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0ICAgICAgICBhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIuZnVsZmlsbCggcmVzcG9uc2UuZGF0YSApO1xuXHQgICAgfSApO1xuXG5cdH0gKTtcblxuXHQvLyByZXNjaGVkdWxpbmcgcHJvY2Vzc1xuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIuZXZlbnQucmVzY2hlZHVsZS5wcm9jZXNzJywgJ2JyYWNrZXRzcGFjZS9hY20vZXZlbnQtcmVzY2hlZHVsZS1wcm9jZXNzJywgZnVuY3Rpb24oICRmb3JtICkge1xuXG5cdFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyLmZvcm1fcHJvY2Vzc19zdGFydCgpO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdCAgICAgICAgJ2FjdGlvbic6ICdhY20vZXZlbnQvcmVzY2hlZHVsZScsXG5cdCAgICAgICAgJ25vbmNlJyA6ICRmb3JtLmZpbmQoICcjbm9uY2UnICkudmFsKCksXG5cdCAgICAgICAgJ2RhdGEnICA6ICRmb3JtLnNlcmlhbGl6ZSgpXG5cdCAgICB9O1xuXG5cdCAgICAkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHQgICAgXHRhZHZhbmNlZF9jcm9uX21hbmFnZXIuYWpheF9tZXNzYWdlcyggcmVzcG9uc2UgKTtcblxuXHQgICAgICAgIGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSB0cnVlICkge1xuXHQgICAgICAgIFx0d3AuaG9va3MuZG9BY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIuZXZlbnQucmVzY2hlZHVsZWQnLCAkZm9ybS5maW5kKCAnI2V2ZW50LWhvb2snICkudmFsKCkgKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIFx0YWR2YW5jZWRfY3Jvbl9tYW5hZ2VyLnNsaWRlYmFyLmZvcm1fcHJvY2Vzc19zdG9wKCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICB9ICk7XG5cblx0fSApO1xuXG5cdC8vIHJlZnJlc2ggdGFibGUgYW5kIGNsb3NlIHNsaWRlYmFyXG5cdHZhciBldmVudHNfdGFibGVfcmVyZW5kZXIgPSBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcjZXZlbnRzJyApLmFkZENsYXNzKCAnbG9hZGluZycgKTtcblxuXHQgICAgJC5wb3N0KCBhamF4dXJsLCB7ICdhY3Rpb24nOiAnYWNtL3JlcmVuZGVyL2V2ZW50cycgfSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHQgICAgXHQkKCAnI2V2ZW50cycgKS5yZXBsYWNlV2l0aCggcmVzcG9uc2UuZGF0YSApO1xuXHQgICAgXHRhZHZhbmNlZF9jcm9uX21hbmFnZXIuc2xpZGViYXIuZm9ybV9wcm9jZXNzX3N0b3AoKTtcblx0XHRcdGFkdmFuY2VkX2Nyb25fbWFuYWdlci5zbGlkZWJhci5jbG9zZSgpO1xuXHQgICAgfSApO1xuXG5cdH07XG5cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnYWR2YW5jZWQtY3Jvbi1tYW5hZ2VyLmV2ZW50LnJlc2NoZWR1bGVkJywgJ2JyYWNrZXRzcGFjZS9hY20vZXZlbnQtcmVzY2hlZHVsZWQnLCBldmVudHNfdGFibGVfcmVyZW5kZXIgKTtcblxuXHQvLy8vLy8vLy8vLy8vXG5cdC8vIEhlbHBlcnMgLy9cblx0Ly8vLy8vLy8vLy8vL1xuXG5cdC8vIGFkZCB1c2VyIHRpbWV6b25lIG9mZnNldFxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdhZHZhbmNlZC1jcm9uLW1hbmFnZXIuZXZlbnQucmVzY2hlZHVsZS5wcm9jZXNzJywgJ2JyYWNrZXRzcGFjZS9hY20vZXZlbnQtcmVzY2hlZHVsZS1wcm9jZXNzJywgZnVuY3Rpb24oICRmb3JtICkge1xuXHRcdCRmb3JtLmZpbmQoICcjZXZlbnQtb2Zmc2V0JyApLnZhbCggbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjAgKTtcblx0fSwgNSApO1xuXG59ICkoIGpRdWVyeSApO1xuIl19
