var M=Object.defineProperty;var b=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var f=(a,e,t)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,u=(a,e)=>{for(var t in e||(e={}))_.call(e,t)&&f(a,t,e[t]);if(b)for(var t of b(e))w.call(e,t)&&f(a,t,e[t]);return a};import{r as c,j as r}from"./main.js";import{e as C,f as T,c as N,_ as q}from"./bi-490-178.js";import{S as D}from"./bi-224-925.js";import{s as E}from"./bi-266-720.js";import{I as F}from"./bi-811-721.js";import{h as L}from"./bi-933-847.js";import P from"./bi-87-351.js";import{M as R}from"./bi-754-846.js";import"./bi-369-724.js";import"./bi-422-718.js";import"./bi-475-763.js";import"./bi-652-725.js";import"./bi-528-726.js";function U({formFields:a,setFlow:e,flow:t,allIntegURL:p,isInfo:x,edit:h}){const g=C(),{formID:v}=T(),[o,l]=c.useState(!1),[i,d]=c.useState(1),[y,n]=c.useState({show:!1}),j=[{key:"1",label:"Add the user to a membership"},{key:"2",label:"Remove the user from a membership"}],k=[{key:"sub_total",label:"Sub Total",required:!1},{key:"tax_amount",label:"Tax Amount",required:!1},{key:"taxrate",label:"Tax Rate",required:!1},{key:"expiration_date",label:"Expiration Date",required:!1}],[s,m]=c.useState({name:"Memberpress",type:"Memberpress",mainAction:"",field_map:[{formField:"",memberpressFormField:""}],allActions:j,memberpressFields:k,actions:{}}),S=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),s.mainAction!==""&&d(3)};function A(){switch(s.mainAction){case"1":return s.statusId===void 0||s.gatewayId===void 0||s.selectedMembership===void 0;default:return!1}}return r.jsxs("div",{children:[r.jsx(N,{snack:y,setSnackbar:n}),r.jsx("div",{className:"txt-center mt-2",children:r.jsx(D,{step:3,active:i})}),r.jsx(P,{formID:v,memberpressConf:s,setMemberpressConf:m,step:i,setStep:d,isLoading:o,setIsLoading:l,setSnackbar:n}),r.jsxs("div",{className:"btcd-stp-page",style:u({},i===2&&{width:900,height:"auto",overflow:"visible"}),children:[r.jsx(R,{formFields:a,handleInput:I=>L(I,s,m),memberpressConf:s,setMemberpressConf:m,isLoading:o,setIsLoading:l,setSnackbar:n,allIntegURL:p,isInfo:x,edit:h}),r.jsxs("button",{onClick:()=>S(),disabled:!s.mainAction||o||A(),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[q("Next","bit-integrations"),"Â ",r.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),r.jsx(F,{step:i,saveConfig:()=>E({flow:t,setFlow:e,allIntegURL:p,history:g,conf:s,setIsLoading:l,setSnackbar:n}),isLoading:o,dataConf:s,setDataConf:m,formFields:a})]})}export{U as default};
