var B=Object.defineProperty,E=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var S=(p,e,d)=>e in p?B(p,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):p[e]=d,r=(p,e)=>{for(var d in e||(e={}))T.call(e,d)&&S(p,d,e[d]);if(F)for(var d of F(e))D.call(e,d)&&S(p,d,e[d]);return p},C=(p,e)=>E(p,R(e));import{r as b,j as a}from"./main.js";import{_ as j,a8 as $,a9 as P,a7 as q}from"./bi-490-178.js";import{T as _}from"./bi-422-718.js";import{B as N}from"./bi-369-724.js";function M({formFields:p,webHooks:e,setWebHooks:d,isInfo:u,setTab:y}){var i;b.useEffect(()=>{y(1)},[]);const o=t=>t==null?void 0:t.match(/(\?|&)([^=]+)=([^&]+|)/gi),x=(t,s,c)=>{const h=r({},e);s!==""?t==="key"?h.url=h.url.replace(c,`${c.charAt(0)}${s}=${c.split("=")[1]}`):h.url=h.url.replace(c,`${c.split("=")[0]}=${s}`):c.match(/\?/g)===null?h.url=h.url.replace(c,""):h.url=h.url.replace(`${c}&`,"?"),d(h)},g=(t,s)=>{const c=r({},e),h=s.split("=");h[1]=t,c.url=c.url.replace(s,h.join("=")),d(c)},f=()=>{const t=r({},e);t.url.match(/\?/g)!==null?t.url+="&key=value":t.url+="?key=value",d(t)},v=t=>{const s=r({},e);s.url=s.url.replace(t,""),d(s)};return a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"f-m",children:j("Add Url Parameter: (optional)","bit-integrations")}),a.jsx("div",{className:"btcd-param-t-wrp mt-1",children:a.jsxs("div",{className:"btcd-param-t",children:[a.jsxs("div",{className:"tr",children:[a.jsx("div",{className:"td",children:j("Key","bit-integrations")}),a.jsx("div",{className:"td",children:j("Value","bit-integrations")})]}),o(e.url)!==null&&((i=o(e.url))==null?void 0:i.map((t,s)=>a.jsxs("div",{className:"tr",children:[a.jsx("div",{className:"td",children:a.jsx("input",{className:"btcd-paper-inp p-i-sm",onChange:c=>x("key",c.target.value,t),type:"text",value:t.split("=")[0].substr(1),disabled:u})}),a.jsx("div",{className:"td",children:a.jsx("input",{className:"btcd-paper-inp p-i-sm",onChange:c=>x("val",c.target.value,t),type:"text",value:t.split("=")[1],disabled:u})}),!u&&a.jsxs("div",{className:"flx p-atn",children:[a.jsx(N,{onClick:()=>v(t),icn:!0,children:a.jsx(_,{size:16})}),a.jsx($,{options:p.map(c=>({label:c.label,value:`\${${c.name}}`})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:c=>g(c,t),defaultValue:t.split("=")[1]})]})]},`fu-1${s*3}`))),!u&&a.jsx(N,{onClick:()=>f(),className:"add-pram",icn:!0,children:a.jsx(P,{size:"14",className:"icn-rotate-45"})})]})})]})}function O({formFields:p,webHooks:e,setWebHooks:d,isInfo:u,setTab:y}){var v;b.useEffect(()=>{y(2)},[]);const o=(i,t)=>{const s=r({},e);s.headers[t]=C(r({},s.headers[t]),{[i.target.name]:i.target.value}),d(s)},x=(i,t)=>{const s=r({},e);s.headers[t]=C(r({},s.headers[t]),{value:i}),d(s)},g=()=>{const i=r({},e);i.headers||(i.headers=[]),i.headers.push({}),d(i)},f=i=>{const t=r({},e);t.headers.splice(i,1),d(t)};return a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"f-m",children:j("Add Request Headers: (optional)","bit-integrations")}),a.jsx("div",{className:"btcd-param-t-wrp mt-1",children:a.jsxs("div",{className:"btcd-param-t",children:[a.jsxs("div",{className:"tr",children:[a.jsx("div",{className:"td",children:j("Key","bit-integrations")}),a.jsx("div",{className:"td",children:j("Value","bit-integrations")})]}),(v=e.headers)==null?void 0:v.map((i,t)=>a.jsxs("div",{className:"tr",children:[a.jsx("div",{className:"td",children:a.jsx("input",{className:"btcd-paper-inp p-i-sm",onChange:s=>o(s,t),name:"key",type:"text",value:i.key,disabled:u})}),a.jsx("div",{className:"td",children:a.jsx("input",{className:"btcd-paper-inp p-i-sm",onChange:s=>o(s,t),name:"value",type:"text",value:i.value,disabled:u})}),!u&&a.jsxs("div",{className:"flx p-atn",children:[a.jsx(N,{onClick:()=>f(t),icn:!0,children:a.jsx(_,{size:16})}),a.jsx($,{options:p.map(s=>({label:s.label,value:`\${${s.name}}`})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:s=>x(s,t),defaultValue:i.value})]})]},`fu-1${t*3}`)),!u&&a.jsx(N,{onClick:()=>g(),className:"add-pram",icn:!0,children:a.jsx(P,{size:"14",className:"icn-rotate-45"})})]})})]})}function Q({formFields:p,webHooks:e,setWebHooks:d,isInfo:u,setTab:y}){var s,c,h,V;b.useEffect(()=>{const n=r({},e);n.body||(n.body={type:"",data:[]},d(n)),y(3)},[]);const o=(n,l)=>{const m=r({},e);m.body.data[l]=C(r({},m.body.data[l]),{[n.target.name]:n.target.value}),d(m)},x=(n,l)=>{const m=r({},e);m.body.data[l]=C(r({},m.body.data[l]),{value:n}),d(m)},g=()=>{const n=r({},e);n.body.data||(n.body.data=[]),n.body.data.push({}),d(n)},f=n=>{const l=r({},e);l.body.data.splice(n,1),d(l)},v=n=>{const l=r({},e);l.body.type=n.target.value,d(l)},i=()=>{const n=[];return p.map(({name:l})=>{n.push({key:l,value:`\${${l}}`})}),n},t=n=>{var z,A;const l=r({},e),m=i();n.target.checked?(l.body.send_all_data=!0,l.body.data=m):((z=l==null?void 0:l.body)==null||delete z.data,(A=l==null?void 0:l.body)==null||delete A.send_all_data),d(r({},l))};return a.jsxs("div",{className:"mt-2",children:[a.jsx(q,{isInfo:u,checked:((s=e==null?void 0:e.body)==null?void 0:s.send_all_data)||!1,onChange:t,className:"wdt-200 mt-4 mr-2 mb-2",value:"Send All Data",title:j("Send All Data","bit-integrations")}),a.jsx("div",{className:"f-m mt-1 mb-2",children:j("Add Request Payload","bit-integrations")}),a.jsxs("select",{name:"method",onChange:v,defaultValue:(c=e==null?void 0:e.body)==null?void 0:c.type,className:"btcd-paper-inp w-6",disabled:u,children:[a.jsx("option",{children:"-- Select Content-Type --"}),a.jsx("option",{value:"application/json",children:"application/json"}),a.jsx("option",{value:"multipart/form-data",children:"multipart/form-data"}),a.jsx("option",{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"})]}),a.jsx("div",{className:"btcd-param-t-wrp mt-1",children:a.jsxs("div",{className:"btcd-param-t",children:[a.jsxs("div",{className:"tr",children:[a.jsx("div",{className:"td",children:j("Key","bit-integrations")}),a.jsx("div",{className:"td",children:j("Value","bit-integrations")})]}),(V=(h=e.body)==null?void 0:h.data)==null?void 0:V.map((n,l)=>a.jsxs("div",{className:"tr",children:[a.jsx("div",{className:"td",children:a.jsx("input",{className:"btcd-paper-inp p-i-sm",onChange:m=>o(m,l),name:"key",type:"text",value:n.key,disabled:u})}),a.jsx("div",{className:"td",children:a.jsx("input",{className:"btcd-paper-inp p-i-sm",onChange:m=>o(m,l),name:"value",type:"text",value:n.value,disabled:u})}),!u&&a.jsxs("div",{className:"flx p-atn",children:[a.jsx(N,{onClick:()=>f(l),icn:!0,children:a.jsx(_,{size:16})}),a.jsx($,{options:p.map(m=>({label:m.label,value:`\${${m.name}}`})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:m=>x(m,l),defaultValue:n.value})]})]},`fu-1${l*3}`)),!u&&a.jsx(N,{onClick:()=>g(),className:"add-pram",icn:!0,children:a.jsx(P,{size:"14",className:"icn-rotate-45"})})]})})]})}export{Q as B,M as P,O as R};
